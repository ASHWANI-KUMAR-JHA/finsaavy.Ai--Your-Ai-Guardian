<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="FinSavvy AI - Professional Financial Management Dashboard for Gig Workers">
    <meta name="theme-color" content="#FF6B6B">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>FinSavvy AI - Complete Financial Dashboard</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 1: ROOT VARIABLES & ENHANCED THEME SYSTEM
           ═══════════════════════════════════════════════════════════════════════════ */
        
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* ===== DARK THEME - PRIMARY COLORS ===== */
            --bg-primary: #0a0a0a;
            --bg-secondary: #0f0f0f;
            --bg-tertiary: #141414;
            --bg-card: #1a1a1a;
            --bg-elevated: #242424;
            --bg-hover: #2a2a2a;
            --bg-input: #1f1f1f;
            --bg-modal: rgba(10, 10, 10, 0.95);
            
            /* ===== TEXT COLORS ===== */
            --text-primary: #ffffff;
            --text-secondary: #e5e5e5;
            --text-tertiary: #a0a0a0;
            --text-muted: #6b7280;
            --text-disabled: #4b5563;
            
            /* ===== BRAND COLORS ===== */
            --brand-primary: #FF6B6B;
            --brand-secondary: #4ECDC4;
            --brand-accent: #A855F7;
            
            /* ===== GRADIENTS ===== */
            --gradient-primary: linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 100%);
            --gradient-secondary: linear-gradient(135deg, #A855F7 0%, #EC4899 100%);
            --gradient-success: linear-gradient(135deg, #34A853 0%, #4ECDC4 100%);
            --gradient-warning: linear-gradient(135deg, #FBBC04 0%, #FF9800 100%);
            --gradient-danger: linear-gradient(135deg, #EA4335 0%, #FF6B6B 100%);
            --gradient-info: linear-gradient(135deg, #4285F4 0%, #2196F3 100%);
            
            /* ===== SEMANTIC COLORS ===== */
            --color-success: #34A853;
            --color-warning: #FBBC04;
            --color-error: #EA4335;
            --color-info: #4285F4;
            
            /* ===== BORDERS ===== */
            --border-subtle: rgba(255, 255, 255, 0.08);
            --border-light: rgba(255, 255, 255, 0.12);
            --border-medium: rgba(255, 255, 255, 0.2);
            --border-strong: rgba(255, 255, 255, 0.3);
            
            /* ===== SHADOWS ===== */
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
            --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.6);
            --shadow-2xl: 0 24px 64px rgba(0, 0, 0, 0.7);
            
            /* ===== GLOWS ===== */
            --glow-primary: 0 0 32px rgba(255, 107, 107, 0.3);
            --glow-secondary: 0 0 32px rgba(78, 205, 196, 0.3);
            --glow-accent: 0 0 32px rgba(168, 85, 247, 0.3);
            
            /* ===== SPACING SCALE ===== */
            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 32px;
            --space-2xl: 48px;
            --space-3xl: 64px;
            
            /* ===== BORDER RADIUS ===== */
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 24px;
            --radius-full: 9999px;
            
            /* ===== TRANSITIONS ===== */
            --transition-fast: 0.15s ease;
            --transition-base: 0.25s ease;
            --transition-slow: 0.4s ease;
            
            /* ===== Z-INDEX SCALE ===== */
            --z-dropdown: 1000;
            --z-sticky: 1020;
            --z-fixed: 1030;
            --z-modal-backdrop: 1040;
            --z-modal: 1050;
            --z-chatbot: 9995;
            --z-toast: 10000;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           LIGHT THEME - BEAUTIFUL & PROFESSIONAL
           ═══════════════════════════════════════════════════════════════════════════ */
        
        [data-theme="light"] {
            /* ===== LIGHT THEME - BACKGROUNDS ===== */
            --bg-primary: #f8fafc;
            --bg-secondary: #f1f5f9;
            --bg-tertiary: #e2e8f0;
            --bg-card: #ffffff;
            --bg-elevated: #f8fafc;
            --bg-hover: #f1f5f9;
            --bg-input: #f8fafc;
            --bg-modal: rgba(248, 250, 252, 0.95);
            
            /* ===== LIGHT THEME - TEXT ===== */
            --text-primary: #0f172a;
            --text-secondary: #334155;
            --text-tertiary: #64748b;
            --text-muted: #94a3b8;
            --text-disabled: #cbd5e1;
            
            /* ===== LIGHT THEME - BORDERS ===== */
            --border-subtle: rgba(15, 23, 42, 0.06);
            --border-light: rgba(15, 23, 42, 0.1);
            --border-medium: rgba(15, 23, 42, 0.15);
            --border-strong: rgba(15, 23, 42, 0.2);
            
            /* ===== LIGHT THEME - SHADOWS ===== */
            --shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.05);
            --shadow-md: 0 4px 12px rgba(15, 23, 42, 0.08);
            --shadow-lg: 0 8px 24px rgba(15, 23, 42, 0.12);
            --shadow-xl: 0 16px 48px rgba(15, 23, 42, 0.15);
            --shadow-2xl: 0 24px 64px rgba(15, 23, 42, 0.18);
            
            /* ===== LIGHT THEME - GLOWS (SOFTER) ===== */
            --glow-primary: 0 0 24px rgba(255, 107, 107, 0.2);
            --glow-secondary: 0 0 24px rgba(78, 205, 196, 0.2);
            --glow-accent: 0 0 24px rgba(168, 85, 247, 0.2);
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           BASE STYLES
           ═══════════════════════════════════════════════════════════════════════════ */
        
        html {
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        /* ===== MATERIAL ICONS ===== */
        .material-symbols-rounded {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
            font-size: 20px;
            user-select: none;
            vertical-align: middle;
        }
        
        /* ===== SELECTION ===== */
        ::selection {
            background: var(--brand-primary);
            color: white;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           SCROLLBAR STYLING - BEAUTIFUL FOR BOTH THEMES
           ═══════════════════════════════════════════════════════════════════════════ */
        
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 5px;
            transition: background 0.3s ease;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--border-medium);
        }
        
        /* Light theme scrollbar enhancement */
        [data-theme="light"] ::-webkit-scrollbar-thumb {
            background: var(--border-medium);
        }
        
        [data-theme="light"] ::-webkit-scrollbar-thumb:hover {
            background: var(--border-strong);
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           LAYOUT STRUCTURE
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .app-container {
            display: flex;
            min-height: 100vh;
            width: 100%;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           SIDEBAR NAVIGATION - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .sidebar {
            width: 280px;
            background: var(--bg-card);
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            z-index: var(--z-fixed);
            transition: transform var(--transition-base), background-color 0.3s ease;
            overflow-y: auto;
        }
        
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }
        
        .sidebar::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .sidebar::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 3px;
        }
        
        .sidebar-header {
            padding: var(--space-xl);
            border-bottom: 1px solid var(--border-subtle);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            background: var(--bg-card);
            z-index: 10;
            transition: background-color 0.3s ease;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            cursor: pointer;
        }
        
        .logo-icon {
            width: 42px;
            height: 42px;
            background: var(--gradient-primary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: var(--glow-primary);
            animation: pulse-glow 3s ease-in-out infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: var(--glow-primary);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 0 48px rgba(255, 107, 107, 0.5);
                transform: scale(1.02);
            }
        }
        
        .logo-text {
            font-size: 24px;
            font-weight: 900;
            font-family: 'Space Grotesk', sans-serif;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.5px;
        }
        
        .sidebar-toggle {
            width: 36px;
            height: 36px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-base);
        }
        
        .sidebar-toggle:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
            transform: scale(1.05);
        }
        
        .sidebar-toggle:active {
            transform: scale(0.95);
        }
        
        .sidebar-nav {
            flex: 1;
            padding: var(--space-lg);
            overflow-y: auto;
        }
        
        .nav-section {
            margin-bottom: var(--space-xl);
        }
        
        .nav-section-title {
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            margin-bottom: var(--space-md);
            padding: 0 var(--space-md);
        }
        
        .nav-list {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 15px;
            transition: all var(--transition-fast);
            cursor: pointer;
            position: relative;
            user-select: none;
        }
        
        .nav-item:hover {
            background: var(--bg-elevated);
            color: var(--text-primary);
            transform: translateX(2px);
        }
        
        .nav-item.active {
            background: var(--gradient-primary);
            color: white;
            font-weight: 600;
            box-shadow: var(--glow-primary);
        }
        
        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 60%;
            background: white;
            border-radius: 0 3px 3px 0;
        }
        
        .nav-item.active .nav-icon {
            animation: bounce 0.6s ease;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }
        
        .nav-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
            flex-shrink: 0;
        }
        
        .nav-text {
            flex: 1;
        }
        
        .nav-badge {
            padding: 2px 8px;
            background: var(--gradient-danger);
            border-radius: var(--radius-full);
            font-size: 11px;
            font-weight: 700;
            color: white;
            min-width: 20px;
            text-align: center;
        }
        .sidebar-footer {
            padding: var(--space-lg);
            border-top: 1px solid var(--border-subtle);
            background: var(--bg-card);
            position: sticky;
            bottom: 0;
            transition: background-color 0.3s ease;
        }
        
        .user-profile-mini {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-elevated);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-md);
            cursor: pointer;
            transition: all var(--transition-base);
        }
        
        .user-profile-mini:hover {
            background: var(--bg-hover);
            transform: scale(1.02);
        }
        
        .user-avatar-mini {
            width: 40px;
            height: 40px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
        }
        
        .user-info-mini {
            flex: 1;
            min-width: 0;
        }
        
        .user-name-mini {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .user-status-mini {
            font-size: 12px;
            color: var(--text-tertiary);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .status-dot {
            width: 6px;
            height: 6px;
            background: var(--color-success);
            border-radius: 50%;
            animation: pulse-dot 2s ease-in-out infinite;
        }
        
        @keyframes pulse-dot {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.6;
                transform: scale(1.2);
            }
        }
        
        .crisis-mode-btn {
            width: 100%;
            padding: 14px;
            background: var(--gradient-danger);
            border: none;
            border-radius: var(--radius-lg);
            color: white;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all var(--transition-base);
            box-shadow: 0 4px 16px rgba(234, 67, 53, 0.3);
            font-family: inherit;
            animation: pulse-crisis 2s ease-in-out infinite;
        }
        
        @keyframes pulse-crisis {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 4px 16px rgba(234, 67, 53, 0.3);
            }
            50% {
                transform: scale(1.02);
                box-shadow: 0 8px 24px rgba(234, 67, 53, 0.5);
            }
        }
        
        .crisis-mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(234, 67, 53, 0.6);
        }
        
        .crisis-mode-btn:active {
            transform: translateY(0);
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           MAIN CONTENT AREA
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .main-content {
            flex: 1;
            margin-left: 280px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: var(--bg-primary);
            transition: margin-left var(--transition-base), background-color 0.3s ease;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           HEADER - ENHANCED WITH TAB NAVIGATION
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .header {
            height: 72px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-subtle);
            padding: 0 var(--space-xl);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: var(--z-sticky);
            backdrop-filter: blur(20px);
            transition: background-color 0.3s ease;
        }
        
        /* Light theme header enhancement */
        [data-theme="light"] .header {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: var(--shadow-sm);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            flex: 1;
        }
        
        .header-menu-btn {
            display: none;
            width: 40px;
            height: 40px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            cursor: pointer;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-base);
        }
        
        .header-menu-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
            transform: scale(1.05);
        }
        
        .page-title {
            font-size: 24px;
            font-weight: 800;
            font-family: 'Space Grotesk', sans-serif;
            color: var(--text-primary);
            letter-spacing: -0.5px;
            display: none;
        }
        
        /* Tab Navigation */
        .header-tabs {
            display: flex;
            gap: 8px;
            background: var(--bg-elevated);
            padding: 4px;
            border-radius: var(--radius-lg);
        }
        
        .header-tab {
            padding: 10px 20px;
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all var(--transition-fast);
            border: none;
            background: transparent;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .header-tab:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }
        
        .header-tab.active {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--glow-primary);
        }
        
        .search-bar {
            flex: 1;
            max-width: 380px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 48px;
            background: var(--bg-input);
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-full);
            color: var(--text-primary);
            font-size: 14px;
            font-weight: 500;
            transition: all var(--transition-base);
            font-family: inherit;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--brand-primary);
            background: var(--bg-elevated);
            box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.1);
        }
        
        .search-input::placeholder {
            color: var(--text-muted);
        }
        
        /* Light theme search enhancement */
        [data-theme="light"] .search-input {
            background: white;
            border-color: var(--border-light);
        }
        
        [data-theme="light"] .search-input:focus {
            background: white;
            box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.08);
        }
        
        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            color: var(--text-muted);
            pointer-events: none;
        }
        
        .search-clear {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            background: var(--bg-elevated);
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: var(--text-muted);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .search-input:not(:placeholder-shown) ~ .search-clear {
            display: flex;
        }
        
        .search-clear:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .header-btn {
            width: 44px;
            height: 44px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-full);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all var(--transition-base);
            position: relative;
        }
        
        .header-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
            transform: scale(1.05);
            border-color: var(--border-light);
        }
        
        .header-btn:active {
            transform: scale(0.95);
        }
        
        /* Light theme button enhancement */
        [data-theme="light"] .header-btn {
            background: white;
        }
        
        [data-theme="light"] .header-btn:hover {
            background: var(--bg-elevated);
        }
        
        .notification-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            min-width: 20px;
            height: 20px;
            padding: 0 6px;
            background: var(--gradient-danger);
            border: 2px solid var(--bg-card);
            border-radius: var(--radius-full);
            font-size: 11px;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: badge-pulse 2s ease-in-out infinite;
        }
        
        @keyframes badge-pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }
        
        .theme-toggle .material-symbols-rounded {
            transition: all var(--transition-base);
        }
        
        [data-theme="light"] .theme-toggle .sun-icon {
            display: none;
        }
        
        [data-theme="dark"] .theme-toggle .moon-icon {
            display: none;
        }
        
        /* Profile Dropdown */
        .profile-dropdown {
            position: relative;
        }
        
        .profile-trigger {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 6px 12px 6px 6px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: all var(--transition-base);
        }
        
        .profile-trigger:hover {
            background: var(--bg-hover);
            border-color: var(--border-light);
        }
        
        /* Light theme profile enhancement */
        [data-theme="light"] .profile-trigger {
            background: white;
        }
        
        .profile-avatar {
            width: 36px;
            height: 36px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            color: white;
        }
        
        .profile-name {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
        }
        
        .profile-dropdown-icon {
            font-size: 16px;
            color: var(--text-muted);
            transition: transform var(--transition-base);
        }
        
        .profile-dropdown.open .profile-dropdown-icon {
            transform: rotate(180deg);
        }
        
        .profile-menu {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 320px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-2xl);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all var(--transition-base);
            z-index: var(--z-dropdown);
        }
        
        /* Light theme dropdown enhancement */
        [data-theme="light"] .profile-menu {
            background: white;
            box-shadow: var(--shadow-xl);
        }
        
        .profile-dropdown.open .profile-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .profile-menu-header {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--border-subtle);
        }
        
        .profile-menu-user {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: var(--space-md);
        }
        
        .profile-menu-avatar {
            width: 48px;
            height: 48px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            color: white;
        }
        
        .profile-menu-info h4 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 2px;
        }
        
        .profile-menu-info p {
            font-size: 13px;
            color: var(--text-tertiary);
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-sm);
        }
        
        .profile-stat {
            text-align: center;
            padding: var(--space-sm);
            background: var(--bg-elevated);
            border-radius: var(--radius-md);
            transition: background-color 0.3s ease;
        }
        
        /* Light theme profile stat enhancement */
        [data-theme="light"] .profile-stat {
            background: var(--bg-secondary);
        }
        
        .profile-stat-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .profile-stat-label {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 2px;
        }
        
        .profile-menu-list {
            padding: var(--space-sm);
        }
        
        .profile-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: all var(--transition-fast);
            cursor: pointer;
        }
        
        .profile-menu-item:hover {
            background: var(--bg-elevated);
            color: var(--text-primary);
        }
        
        .profile-menu-item.danger {
            color: var(--color-error);
        }
        
        .profile-menu-item.danger:hover {
            background: rgba(234, 67, 53, 0.1);
            color: var(--color-error);
        }
        
        .profile-menu-icon {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }
        
        .profile-menu-divider {
            height: 1px;
            background: var(--border-subtle);
            margin: var(--space-sm) 0;
        }
        /* ═══════════════════════════════════════════════════════════════════════════
           CONTENT CONTAINER & PAGE SYSTEM
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .content-container {
            flex: 1;
            padding: var(--space-xl);
            overflow-y: auto;
            background: var(--bg-primary);
            transition: background-color 0.3s ease;
        }
        
        .content-container::-webkit-scrollbar {
            width: 10px;
        }
        
        .content-container::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }
        
        .content-container::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 5px;
        }
        
        .content-container::-webkit-scrollbar-thumb:hover {
            background: var(--border-medium);
        }
        
        /* Page Content System - For Tab Switching */
        .page-content {
            display: none;
            animation: fadeInUp 0.5s ease;
        }
        
        .page-content.active {
            display: block;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Welcome Section */
        .welcome-section {
            margin-bottom: var(--space-xl);
            animation: slideInDown 0.6s ease;
        }
        
        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .welcome-title {
            font-size: 36px;
            font-weight: 900;
            font-family: 'Space Grotesk', sans-serif;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: -1px;
        }
        
        .welcome-emoji {
            font-size: 40px;
            animation: wave 2.5s ease-in-out infinite;
        }
        
        @keyframes wave {
            0%, 100% { transform: rotate(0deg); }
            10%, 30% { transform: rotate(14deg); }
            20%, 40% { transform: rotate(-8deg); }
            50% { transform: rotate(14deg); }
            60% { transform: rotate(0deg); }
        }
        
        .welcome-subtitle {
            font-size: 16px;
            color: var(--text-tertiary);
            font-weight: 500;
            line-height: 1.5;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           STATS GRID - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-lg);
            margin-bottom: var(--space-2xl);
        }
        
        .stat-card {
            padding: var(--space-xl);
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            transition: all var(--transition-base);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease;
            animation-fill-mode: both;
        }
        
        /* Light theme card enhancement */
        [data-theme="light"] .stat-card {
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        [data-theme="light"] .stat-card:hover {
            box-shadow: var(--shadow-md);
        }
        
        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.2s; }
        .stat-card:nth-child(3) { animation-delay: 0.3s; }
        .stat-card:nth-child(4) { animation-delay: 0.4s; }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform var(--transition-base);
        }
        
        .stat-card:hover::before {
            transform: scaleX(1);
        }
        
        .stat-card:hover {
            border-color: var(--border-light);
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }
        
        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-lg);
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            background: var(--bg-elevated);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all var(--transition-base);
        }
        
        /* Light theme stat icon */
        [data-theme="light"] .stat-icon {
            background: var(--bg-secondary);
        }
        
        .stat-card:hover .stat-icon {
            transform: scale(1.1) rotate(5deg);
        }
        
        .stat-trend {
            padding: 6px 10px;
            border-radius: var(--radius-md);
            font-size: 13px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .stat-trend.up {
            background: rgba(52, 168, 83, 0.15);
            color: var(--color-success);
        }
        
        .stat-trend.down {
            background: rgba(234, 67, 53, 0.15);
            color: var(--color-error);
        }
        
        /* Light theme trend enhancement */
        [data-theme="light"] .stat-trend.up {
            background: rgba(52, 168, 83, 0.1);
        }
        
        [data-theme="light"] .stat-trend.down {
            background: rgba(234, 67, 53, 0.1);
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 900;
            font-family: 'Space Grotesk', sans-serif;
            color: var(--text-primary);
            margin-bottom: var(--space-xs);
            letter-spacing: -1px;
            line-height: 1;
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--text-tertiary);
            font-weight: 600;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           FINANCIAL TOOLS GRID - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-xl);
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 800;
            font-family: 'Space Grotesk', sans-serif;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: -0.5px;
        }
        
        .section-title-icon {
            font-size: 28px;
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: var(--space-lg);
            margin-bottom: var(--space-2xl);
        }
        
        .tool-card {
            padding: var(--space-xl);
            background: var(--bg-card);
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            transition: all var(--transition-base);
            cursor: pointer;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease;
            animation-fill-mode: both;
        }
        
        /* Light theme tool card */
        [data-theme="light"] .tool-card {
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        [data-theme="light"] .tool-card:hover {
            box-shadow: var(--shadow-lg);
        }
        
        .tool-card:nth-child(1) { animation-delay: 0.1s; }
        .tool-card:nth-child(2) { animation-delay: 0.2s; }
        .tool-card:nth-child(3) { animation-delay: 0.3s; }
        .tool-card:nth-child(4) { animation-delay: 0.4s; }
        .tool-card:nth-child(5) { animation-delay: 0.5s; }
        
        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity var(--transition-base);
            z-index: 0;
        }
        
        .tool-card:hover::before {
            opacity: 0.08;
        }
        
        .tool-card:hover {
            border-color: var(--brand-primary);
            transform: translateY(-12px) scale(1.02);
            box-shadow: var(--shadow-xl), var(--glow-primary);
        }
        
        .tool-icon {
            width: 72px;
            height: 72px;
            background: var(--gradient-primary);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            margin-bottom: var(--space-lg);
            box-shadow: var(--glow-primary);
            position: relative;
            z-index: 1;
            transition: all var(--transition-base);
        }
        
        .tool-card:hover .tool-icon {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 0 48px rgba(255, 107, 107, 0.6);
        }
        
        .tool-card:nth-child(2) .tool-icon {
            background: var(--gradient-secondary);
            box-shadow: var(--glow-accent);
        }
        
        .tool-card:nth-child(3) .tool-icon {
            background: var(--gradient-warning);
            box-shadow: 0 0 32px rgba(251, 188, 4, 0.3);
        }
        
        .tool-card:nth-child(4) .tool-icon {
            background: var(--gradient-success);
            box-shadow: 0 0 32px rgba(52, 168, 83, 0.3);
        }
        
        .tool-card:nth-child(5) .tool-icon {
            background: var(--gradient-info);
            box-shadow: 0 0 32px rgba(66, 133, 244, 0.3);
        }
        
        .tool-name {
            font-size: 17px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-xs);
            font-family: 'Space Grotesk', sans-serif;
            position: relative;
            z-index: 1;
        }
        
        .tool-description {
            font-size: 13px;
            color: var(--text-tertiary);
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           CARD SYSTEM - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            transition: all var(--transition-base);
            animation: fadeInUp 0.6s ease;
        }
        
        /* Light theme card */
        [data-theme="light"] .card {
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        .card:hover {
            border-color: var(--border-light);
            box-shadow: var(--shadow-md);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-xl);
            padding-bottom: var(--space-lg);
            border-bottom: 1px solid var(--border-subtle);
        }
        
        .card-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'Space Grotesk', sans-serif;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title-icon {
            font-size: 24px;
        }
        
        .card-action {
            padding: 10px 18px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
            text-decoration: none;
        }
        
        .card-action:hover {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
            transform: translateX(2px);
        }
        
        /* Light theme card action */
        [data-theme="light"] .card-action {
            background: var(--bg-secondary);
        }
        
        /* Grid System */
        .dashboard-grid {
            display: grid;
            gap: var(--space-xl);
            margin-bottom: var(--space-2xl);
        }
        
        .grid-1 { grid-template-columns: 1fr; }
        .grid-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-4 { grid-template-columns: repeat(4, 1fr); }
        
        .col-span-1 { grid-column: span 1; }
        .col-span-2 { grid-column: span 2; }
        .col-span-3 { grid-column: span 3; }
        .col-span-4 { grid-column: span 4; }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           CHARTS STYLING - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .chart-container {
            position: relative;
            height: 350px;
            width: 100%;
            margin-top: var(--space-lg);
        }
        
        .chart-canvas {
            max-height: 100%;
            width: 100% !important;
            height: 100% !important;
        }
        
        /* Chart Loading State */
        .chart-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 350px;
            color: var(--text-muted);
            font-size: 14px;
        }
        
        .chart-loading::before {
            content: '';
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-subtle);
            border-top-color: var(--brand-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: var(--space-md);
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        /* ═══════════════════════════════════════════════════════════════════════════
           TRANSACTIONS TABLE - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .transactions-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: var(--space-lg);
        }
        
        .transactions-table thead {
            background: var(--bg-elevated);
            border-bottom: 2px solid var(--border-subtle);
        }
        
        /* Light theme table header */
        [data-theme="light"] .transactions-table thead {
            background: var(--bg-secondary);
        }
        
        .transactions-table th {
            padding: 16px 20px;
            text-align: left;
            font-size: 12px;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            white-space: nowrap;
        }
        
        .transactions-table td {
            padding: 18px 20px;
            border-bottom: 1px solid var(--border-subtle);
        }
        
        .transactions-table tbody tr {
            transition: all var(--transition-fast);
            cursor: pointer;
        }
        
        .transactions-table tbody tr:hover {
            background: var(--bg-elevated);
            transform: scale(1.01);
        }
        
        /* Light theme table row hover */
        [data-theme="light"] .transactions-table tbody tr:hover {
            background: var(--bg-secondary);
        }
        
        .transaction-info {
            display: flex;
            align-items: center;
            gap: 14px;
        }
        
        .transaction-icon {
            width: 44px;
            height: 44px;
            background: var(--bg-elevated);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
            transition: all var(--transition-fast);
        }
        
        .transactions-table tbody tr:hover .transaction-icon {
            transform: scale(1.1) rotate(5deg);
        }
        
        .transaction-details {
            flex: 1;
            min-width: 0;
        }
        
        .transaction-name {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .transaction-category {
            font-size: 13px;
            color: var(--text-tertiary);
        }
        
        .transaction-amount {
            font-size: 17px;
            font-weight: 700;
            font-family: 'Space Grotesk', sans-serif;
            white-space: nowrap;
        }
        
        .transaction-amount.income {
            color: var(--color-success);
        }
        
        .transaction-amount.expense {
            color: var(--color-error);
        }
        
        .transaction-date {
            font-size: 13px;
            color: var(--text-tertiary);
            white-space: nowrap;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           MODALS & OVERLAYS - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(8px);
            z-index: var(--z-modal-backdrop);
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity var(--transition-base);
        }
        
        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }
        
        /* Light theme modal overlay */
        [data-theme="light"] .modal-overlay {
            background: rgba(15, 23, 42, 0.5);
        }
        
        .modal {
            background: var(--bg-card);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-2xl);
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.9);
            transition: transform var(--transition-base);
        }
        
        /* Light theme modal */
        [data-theme="light"] .modal {
            background: white;
        }
        
        .modal-overlay.active .modal {
            transform: scale(1);
        }
        
        .modal::-webkit-scrollbar {
            width: 6px;
        }
        
        .modal::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .modal::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 3px;
        }
        
        .modal-header {
            padding: var(--space-xl);
            border-bottom: 1px solid var(--border-subtle);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .modal-title {
            font-size: 24px;
            font-weight: 800;
            font-family: 'Space Grotesk', sans-serif;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .modal-close {
            width: 36px;
            height: 36px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-full);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all var(--transition-fast);
        }
        
        .modal-close:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
            transform: scale(1.1);
        }
        
        .modal-body {
            padding: var(--space-xl);
        }
        
        .modal-footer {
            padding: var(--space-xl);
            border-top: 1px solid var(--border-subtle);
            display: flex;
            gap: var(--space-md);
            justify-content: flex-end;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           FORM ELEMENTS - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .form-group {
            margin-bottom: var(--space-lg);
        }
        
        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
        }
        
        .form-label-required::after {
            content: '*';
            color: var(--color-error);
            margin-left: 4px;
        }
        
        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-input);
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            color: var(--text-primary);
            font-size: 14px;
            font-weight: 500;
            font-family: inherit;
            transition: all var(--transition-base);
        }
        
        /* Light theme form inputs */
        [data-theme="light"] .form-input,
        [data-theme="light"] .form-select,
        [data-theme="light"] .form-textarea {
            background: white;
            border-color: var(--border-light);
        }
        
        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--brand-primary);
            background: var(--bg-elevated);
            box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.1);
        }
        
        .form-input::placeholder,
        .form-textarea::placeholder {
            color: var(--text-muted);
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .form-helper {
            font-size: 12px;
            color: var(--text-tertiary);
            margin-top: var(--space-sm);
        }
        
        .form-error {
            font-size: 12px;
            color: var(--color-error);
            margin-top: var(--space-sm);
            display: none;
        }
        
        .form-group.error .form-input,
        .form-group.error .form-select,
        .form-group.error .form-textarea {
            border-color: var(--color-error);
        }
        
        .form-group.error .form-error {
            display: block;
        }
        
        /* Radio/Checkbox Groups */
        .form-radio-group,
        .form-checkbox-group {
            display: flex;
            gap: var(--space-md);
        }
        
        .form-radio,
        .form-checkbox {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            cursor: pointer;
            padding: 10px 16px;
            background: var(--bg-elevated);
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-md);
            transition: all var(--transition-fast);
        }
        
        .form-radio:hover,
        .form-checkbox:hover {
            background: var(--bg-hover);
            border-color: var(--border-light);
        }
        
        .form-radio input,
        .form-checkbox input {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .form-radio.active,
        .form-checkbox.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
        }
        
        /* Icon Picker */
        .icon-picker-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: var(--space-sm);
            margin-top: var(--space-md);
        }
        
        .icon-option {
            width: 100%;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            background: var(--bg-elevated);
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .icon-option:hover {
            background: var(--bg-hover);
            border-color: var(--border-light);
            transform: scale(1.1);
        }
        
        .icon-option.selected {
            background: var(--gradient-primary);
            border-color: transparent;
            transform: scale(1.1);
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           BUTTONS - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .btn {
            padding: 12px 24px;
            border-radius: var(--radius-lg);
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all var(--transition-base);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
            text-decoration: none;
            border: none;
            white-space: nowrap;
            justify-content: center;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: var(--glow-primary);
        }
        
        .btn-primary:active:not(:disabled) {
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: var(--bg-elevated);
            color: var(--text-primary);
            border: 1px solid var(--border-subtle);
        }
        
        .btn-secondary:hover:not(:disabled) {
            background: var(--bg-hover);
            border-color: var(--border-light);
        }
        
        /* Light theme buttons */
        [data-theme="light"] .btn-secondary {
            background: var(--bg-secondary);
        }
        
        .btn-success {
            background: var(--gradient-success);
            color: white;
        }
        
        .btn-warning {
            background: var(--gradient-warning);
            color: white;
        }
        
        .btn-danger {
            background: var(--gradient-danger);
            color: white;
        }
        
        .btn-icon {
            width: 44px;
            height: 44px;
            padding: 0;
        }
        
        .btn-sm {
            padding: 8px 16px;
            font-size: 13px;
        }
        
        .btn-lg {
            padding: 16px 32px;
            font-size: 16px;
        }
        
        .btn-block {
            width: 100%;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PROGRESS BAR - ENHANCED
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .progress-bar-container {
            width: 100%;
            height: 12px;
            background: var(--bg-elevated);
            border-radius: var(--radius-full);
            overflow: hidden;
            position: relative;
        }
        
        /* Light theme progress bar */
        [data-theme="light"] .progress-bar-container {
            background: var(--bg-secondary);
        }
        
        .progress-bar {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            transition: width 0.6s ease;
            position: relative;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           BADGES & TAGS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-size: 12px;
            font-weight: 700;
            white-space: nowrap;
        }
        
        .badge-primary {
            background: rgba(255, 107, 107, 0.15);
            color: var(--brand-primary);
        }
        
        .badge-success {
            background: rgba(52, 168, 83, 0.15);
            color: var(--color-success);
        }
        
        .badge-warning {
            background: rgba(251, 188, 4, 0.15);
            color: var(--color-warning);
        }
        
        .badge-error {
            background: rgba(234, 67, 53, 0.15);
            color: var(--color-error);
        }
        
        .badge-info {
            background: rgba(66, 133, 244, 0.15);
            color: var(--color-info);
        }
        
        /* Light theme badges */
        [data-theme="light"] .badge-primary {
            background: rgba(255, 107, 107, 0.1);
        }
        
        [data-theme="light"] .badge-success {
            background: rgba(52, 168, 83, 0.1);
        }
        
        [data-theme="light"] .badge-warning {
            background: rgba(251, 188, 4, 0.1);
        }
        
        [data-theme="light"] .badge-error {
            background: rgba(234, 67, 53, 0.1);
        }
        
        [data-theme="light"] .badge-info {
            background: rgba(66, 133, 244, 0.1);
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           MOBILE OVERLAY
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .mobile-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(8px);
            z-index: var(--z-modal-backdrop);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
        }
        
        .mobile-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        /* ═══════════════════════════════════════════════════════════════════════════
           AI CHATBOT - COMPLETE STYLING WITH MINIMIZE/MAXIMIZE
           ═══════════════════════════════════════════════════════════════════════════ */
        
        .chatbot-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: var(--z-chatbot);
        }
        
        .chatbot-toggle {
            width: 64px;
            height: 64px;
            background: var(--gradient-primary);
            border: none;
            border-radius: var(--radius-full);
            color: white;
            font-size: 32px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-xl), var(--glow-primary);
            transition: all var(--transition-base);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        .chatbot-toggle:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 12px 48px rgba(255, 107, 107, 0.6);
        }
        
        .chatbot-toggle:active {
            transform: scale(0.95);
        }
        
        .chatbot-toggle.hidden {
            display: none;
        }
        
        .chatbot-window {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 420px;
            height: 650px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-2xl);
            display: none;
            flex-direction: column;
            overflow: hidden;
            animation: slideInUp 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transition: all var(--transition-base);
        }
        
        /* Light theme chatbot window */
        [data-theme="light"] .chatbot-window {
            background: white;
            box-shadow: var(--shadow-xl);
        }
        
        .chatbot-window.active {
            display: flex;
        }
        
        .chatbot-window.minimized {
            height: 60px;
            overflow: hidden;
        }
        
        .chatbot-window.maximized {
            width: 90vw;
            max-width: 1200px;
            height: 90vh;
            bottom: 50%;
            right: 50%;
            transform: translate(50%, 50%);
            border-radius: var(--radius-xl);
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .chatbot-header {
            padding: var(--space-lg);
            background: var(--gradient-primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--border-subtle);
            flex-shrink: 0;
        }
        
        .chatbot-header-left {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        .chatbot-avatar {
            width: 40px;
            height: 40px;
            background: white;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .chatbot-info {
            flex: 1;
        }
        
        .chatbot-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 2px;
        }
        
        .chatbot-status {
            font-size: 12px;
            opacity: 0.95;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .chatbot-status-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse-dot 2s ease-in-out infinite;
        }
        
        .chatbot-header-actions {
            display: flex;
            gap: 8px;
        }
        
        .chatbot-header-btn {
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: var(--radius-md);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-fast);
            font-size: 20px;
        }
        
        .chatbot-header-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
        
        .chatbot-header-btn:active {
            transform: scale(0.95);
        }
        
        .chatbot-body {
            flex: 1;
            padding: var(--space-lg);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
            background: var(--bg-primary);
        }
        
        /* Light theme chatbot body */
        [data-theme="light"] .chatbot-body {
            background: var(--bg-secondary);
        }
        
        .chatbot-body::-webkit-scrollbar {
            width: 6px;
        }
        
        .chatbot-body::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .chatbot-body::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 3px;
        }
        
        .chat-message {
            display: flex;
            gap: 12px;
            animation: fadeIn 0.4s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .chat-message.user {
            flex-direction: row-reverse;
        }
        
        .chat-avatar-msg {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .chat-message.bot .chat-avatar-msg {
            background: var(--gradient-primary);
            color: white;
        }
        
        .chat-message.user .chat-avatar-msg {
            background: var(--bg-elevated);
            color: var(--text-primary);
            font-size: 16px;
            font-weight: 700;
        }
        
        /* Light theme chat avatars */
        [data-theme="light"] .chat-message.user .chat-avatar-msg {
            background: var(--bg-tertiary);
        }
        
        .chat-content {
            max-width: 75%;
        }
        
        .chat-bubble {
            padding: 14px 18px;
            border-radius: var(--radius-lg);
            font-size: 14px;
            line-height: 1.6;
            word-wrap: break-word;
        }
        
        .chat-message.bot .chat-bubble {
            background: var(--bg-elevated);
            color: var(--text-primary);
            border-bottom-left-radius: 4px;
        }
        
        .chat-message.user .chat-bubble {
            background: var(--gradient-primary);
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        /* Light theme chat bubbles */
        [data-theme="light"] .chat-message.bot .chat-bubble {
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        .chat-time {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 6px;
            padding: 0 6px;
        }
        
        .chat-message.user .chat-time {
            text-align: right;
        }
        
        .chatbot-footer {
            padding: var(--space-lg);
            border-top: 1px solid var(--border-subtle);
            background: var(--bg-card);
            flex-shrink: 0;
        }
        
        /* Light theme chatbot footer */
        [data-theme="light"] .chatbot-footer {
            background: white;
        }
        
        .chat-input-container {
            display: flex;
            gap: var(--space-sm);
            align-items: flex-end;
        }
        
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            background: var(--bg-input);
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            color: var(--text-primary);
            font-size: 14px;
            font-family: inherit;
            resize: none;
            min-height: 48px;
            max-height: 120px;
            line-height: 1.5;
            transition: all var(--transition-base);
        }
        
        /* Light theme chat input */
        [data-theme="light"] .chat-input {
            background: white;
            border-color: var(--border-light);
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--brand-primary);
            background: var(--bg-elevated);
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }
        
        .chat-input::placeholder {
            color: var(--text-muted);
        }
        
        .chat-send-btn {
            width: 48px;
            height: 48px;
            background: var(--gradient-primary);
            border: none;
            border-radius: var(--radius-lg);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-base);
            flex-shrink: 0;
            font-size: 22px;
        }
        
        .chat-send-btn:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: var(--glow-primary);
        }
        
        .chat-send-btn:active:not(:disabled) {
            transform: scale(0.95);
        }
        
        .chat-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            gap: 6px;
            padding: 14px 18px;
            background: var(--bg-elevated);
            border-radius: var(--radius-lg);
            border-bottom-left-radius: 4px;
            width: fit-content;
        }
        
        /* Light theme typing indicator */
        [data-theme="light"] .typing-indicator {
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--text-muted);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }
        
        /* Welcome Message */
        .chat-welcome {
            text-align: center;
            padding: var(--space-xl);
            color: var(--text-tertiary);
        }
        
        .chat-welcome-icon {
            font-size: 64px;
            margin-bottom: var(--space-md);
            animation: wave 2s ease-in-out infinite;
        }
        
        .chat-welcome-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
        }
        
        .chat-welcome-subtitle {
            font-size: 14px;
            line-height: 1.6;
        }
        
        .chat-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin-top: var(--space-lg);
            justify-content: center;
        }
        
        .chat-suggestion {
            padding: 10px 16px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-full);
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        /* Light theme suggestions */
        [data-theme="light"] .chat-suggestion {
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        .chat-suggestion:hover {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: var(--glow-primary);
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           RESPONSIVE DESIGN - TABLET
           ═══════════════════════════════════════════════════════════════════════════ */
        
        @media (max-width: 1400px) {
            .stats-grid,
            .tools-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .tools-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .grid-3,
            .grid-4 {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .header-tabs {
                display: none;
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           RESPONSIVE DESIGN - MOBILE
           ═══════════════════════════════════════════════════════════════════════════ */
        
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
                box-shadow: var(--shadow-2xl);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .header-menu-btn {
                display: flex;
            }
            
            .page-title {
                display: block;
                font-size: 20px;
            }
            
            .search-bar {
                display: none;
            }
            
            .grid-2,
            .grid-3,
            .grid-4 {
                grid-template-columns: 1fr;
            }
            
            .col-span-2,
            .col-span-3,
            .col-span-4 {
                grid-column: span 1;
            }
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 0 var(--space-md);
                height: 64px;
            }
            
            .content-container {
                padding: var(--space-md);
            }
            
            .welcome-title {
                font-size: 24px;
            }
            
            .welcome-emoji {
                font-size: 28px;
            }
            
            .stats-grid,
            .tools-grid {
                grid-template-columns: 1fr;
                gap: var(--space-md);
            }
            
            .stat-card {
                padding: var(--space-lg);
            }
            
            .stat-value {
                font-size: 28px;
            }
            
            .tool-card {
                padding: var(--space-lg);
            }
            
            .tool-icon {
                width: 60px;
                height: 60px;
                font-size: 30px;
            }
            
            .card {
                padding: var(--space-lg);
            }
            
            .card-title {
                font-size: 18px;
            }
            
            .chart-container {
                height: 280px;
            }
            
            .profile-name {
                display: none;
            }
            
            .profile-menu {
                width: calc(100vw - 32px);
                right: 16px;
            }
            
            .transactions-table {
                font-size: 13px;
            }
            
            .transactions-table th,
            .transactions-table td {
                padding: 12px 10px;
            }
            
            .transaction-icon {
                width: 36px;
                height: 36px;
                font-size: 16px;
            }
            
            .section-title {
                font-size: 20px;
            }
            
            /* Chatbot responsive */
            .chatbot-window {
                width: calc(100vw - 32px);
                right: 16px;
                left: 16px;
                height: calc(100vh - 140px);
                bottom: 90px;
            }
            
            .chatbot-window.maximized {
                width: 100vw;
                height: 100vh;
                bottom: 0;
                right: 0;
                left: 0;
                top: 0;
                transform: none;
                border-radius: 0;
            }
            
            .chatbot-toggle {
                width: 56px;
                height: 56px;
                font-size: 28px;
            }
            
            .modal {
                width: 95%;
                border-radius: var(--radius-xl);
            }
        }
        
        @media (max-width: 480px) {
            .welcome-title {
                font-size: 20px;
                flex-direction: column;
                align-items: flex-start;
            }
            
            .header-actions {
                gap: 8px;
            }
            
            .header-btn {
                width: 40px;
                height: 40px;
            }
            
            .stat-card {
                padding: var(--space-md);
            }
            
            .stat-icon {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
            
            .tool-card {
                padding: var(--space-md);
            }
            
            .icon-picker-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
    </style>
</head>
<body>
    <div class="app-container">
        
        <!-- ═══════════════════════════════════════════════════════════════════════════
             SIDEBAR NAVIGATION
             ═══════════════════════════════════════════════════════════════════════════ -->
        <aside class="sidebar" id="sidebar">
            
            <!-- Sidebar Header -->
            <div class="sidebar-header">
                <a href="index.html" class="logo">
                    <div class="logo-icon">💰</div>
                    <span class="logo-text">FinSavvy</span>
                </a>
                <button class="sidebar-toggle" onclick="toggleSidebar()" aria-label="Toggle sidebar">
                    <span class="material-symbols-rounded">menu</span>
                </button>
            </div>
            
            <!-- Sidebar Navigation -->
            <nav class="sidebar-nav">
                
                <!-- Main Menu Section -->
                <div class="nav-section">
                    <div class="nav-section-title">Main Menu</div>
                    <div class="nav-list">
                        <div class="nav-item active" onclick="switchTab('dashboard', event)">
                            <span class="material-symbols-rounded nav-icon">dashboard</span>
                            <span class="nav-text">Dashboard</span>
                        </div>
                        <div class="nav-item" onclick="switchTab('transactions', event)">
                            <span class="material-symbols-rounded nav-icon">receipt_long</span>
                            <span class="nav-text">Transactions</span>
                        </div>
                        <div class="nav-item" onclick="switchTab('goals', event)">
                            <span class="material-symbols-rounded nav-icon">flag</span>
                            <span class="nav-text">Goals</span>
                        </div>
                        <div class="nav-item" onclick="switchTab('insights', event)">
                            <span class="material-symbols-rounded nav-icon">lightbulb</span>
                            <span class="nav-text">Insights</span>
                        </div>
                    </div>
                </div>
                
                <!-- Financial Tools Section -->
                <div class="nav-section">
                    <div class="nav-section-title">Financial Tools</div>
                    <div class="nav-list">
                        <a href="budget-planner.html" class="nav-item">
                            <span class="material-symbols-rounded nav-icon">calculate</span>
                            <span class="nav-text">Budget Planner</span>
                        </a>
                        <a href="income-tracker.html" class="nav-item">
                            <span class="material-symbols-rounded nav-icon">trending_up</span>
                            <span class="nav-text">Income Tracker</span>
                        </a>
                        <a href="expense-analyzer.html" class="nav-item">
                            <span class="material-symbols-rounded nav-icon">pie_chart</span>
                            <span class="nav-text">Expense Analyzer</span>
                        </a>
                        <a href="tax-calculator.html" class="nav-item">
                            <span class="material-symbols-rounded nav-icon">account_balance</span>
                            <span class="nav-text">Tax Calculator</span>
                        </a>
                        <a href="investment-hub.html" class="nav-item">
                            <span class="material-symbols-rounded nav-icon">monitoring</span>
                            <span class="nav-text">Investment Hub</span>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links Section -->
                <div class="nav-section">
                    <div class="nav-section-title">Quick Links</div>
                    <div class="nav-list">
                        <a href="notifications.html" class="nav-item">
                            <span class="material-symbols-rounded nav-icon">notifications</span>
                            <span class="nav-text">Notifications</span>
                            <span class="nav-badge">3</span>
                        </a>
                        <a href="settings.html" class="nav-item">
                            <span class="material-symbols-rounded nav-icon">settings</span>
                            <span class="nav-text">Settings</span>
                        </a>
                        <a href="help.html" class="nav-item">
                            <span class="material-symbols-rounded nav-icon">help</span>
                            <span class="nav-text">Help & Support</span>
                        </a>
                    </div>
                </div>
                
            </nav>
            
            <!-- Sidebar Footer -->
            <div class="sidebar-footer">
                <div class="user-profile-mini" onclick="toggleProfileDropdown()">
                    <div class="user-avatar-mini">A</div>
                    <div class="user-info-mini">
                        <div class="user-name-mini">Aryan Kumar</div>
                        <div class="user-status-mini">
                            <span class="status-dot"></span>
                            <span>Premium Member</span>
                        </div>
                    </div>
                </div>
                <button class="crisis-mode-btn" onclick="window.location.href='crisis-mode.html'">
                    <span class="material-symbols-rounded">emergency</span>
                    <span>Crisis Mode</span>
                </button>
            </div>
            
        </aside>
        
        <!-- ═══════════════════════════════════════════════════════════════════════════
             MAIN CONTENT AREA
             ═══════════════════════════════════════════════════════════════════════════ -->
        <main class="main-content">
            
            <!-- ═══════════════════════════════════════════════════════════════════════════
                 HEADER WITH TAB NAVIGATION
                 ═══════════════════════════════════════════════════════════════════════════ -->
            <header class="header">
                <div class="header-left">
                    <button class="header-menu-btn" onclick="toggleSidebar()" aria-label="Toggle menu">
                        <span class="material-symbols-rounded">menu</span>
                    </button>
                    <h1 class="page-title" id="pageTitle">Dashboard</h1>
                    
                    <!-- Tab Navigation (Desktop) -->
                    <div class="header-tabs">
                        <button class="header-tab active" data-tab="dashboard" onclick="switchTab('dashboard', event)">
                            <span class="material-symbols-rounded">dashboard</span>
                            <span>Dashboard</span>
                        </button>
                        <button class="header-tab" data-tab="transactions" onclick="switchTab('transactions', event)">
                            <span class="material-symbols-rounded">receipt_long</span>
                            <span>Transactions</span>
                        </button>
                        <button class="header-tab" data-tab="goals" onclick="switchTab('goals', event)">
                            <span class="material-symbols-rounded">flag</span>
                            <span>Goals</span>
                        </button>
                        <button class="header-tab" data-tab="insights" onclick="switchTab('insights', event)">
                            <span class="material-symbols-rounded">lightbulb</span>
                            <span>Insights</span>
                        </button>
                    </div>
                    
                    <div class="search-bar">
                        <span class="material-symbols-rounded search-icon">search</span>
                        <input 
                            type="text" 
                            class="search-input" 
                            placeholder="Search transactions, goals, insights..."
                            id="globalSearch"
                        >
                        <span class="search-clear" onclick="clearSearch()">×</span>
                    </div>
                </div>
                
                <div class="header-actions">
                    <button class="header-btn theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                        <span class="material-symbols-rounded sun-icon">light_mode</span>
                        <span class="material-symbols-rounded moon-icon">dark_mode</span>
                    </button>
                    <button class="header-btn" onclick="window.location.href='notifications.html'" aria-label="Notifications">
                        <span class="material-symbols-rounded">notifications</span>
                        <span class="notification-badge">3</span>
                    </button>
                    <button class="header-btn" onclick="toggleChatbot()" aria-label="AI Assistant">
                        <span class="material-symbols-rounded">psychology</span>
                    </button>
                    
                    <!-- Profile Dropdown -->
                    <div class="profile-dropdown" id="profileDropdown">
                        <div class="profile-trigger" onclick="toggleProfileDropdown()">
                            <div class="profile-avatar">A</div>
                            <span class="profile-name">Aryan</span>
                            <span class="material-symbols-rounded profile-dropdown-icon">expand_more</span>
                        </div>
                        <div class="profile-menu">
                            <div class="profile-menu-header">
                                <div class="profile-menu-user">
                                    <div class="profile-menu-avatar">A</div>
                                    <div class="profile-menu-info">
                                        <h4>Aryan Kumar</h4>
                                        <p>aryan.kumar@email.com</p>
                                    </div>
                                </div>
                                <div class="profile-stats">
                                    <div class="profile-stat">
                                        <div class="profile-stat-value">847</div>
                                        <div class="profile-stat-label">Score</div>
                                    </div>
                                    <div class="profile-stat">
                                        <div class="profile-stat-value">₹24K</div>
                                        <div class="profile-stat-label">Balance</div>
                                    </div>
                                    <div class="profile-stat">
                                        <div class="profile-stat-value">42%</div>
                                        <div class="profile-stat-label">Savings</div>
                                    </div>
                                </div>
                            </div>
                            <div class="profile-menu-list">
                                <a href="profile.html" class="profile-menu-item">
                                    <span class="material-symbols-rounded profile-menu-icon">person</span>
                                    <span>View Profile</span>
                                </a>
                                <a href="settings.html" class="profile-menu-item">
                                    <span class="material-symbols-rounded profile-menu-icon">settings</span>
                                    <span>Settings</span>
                                </a>
                                <div class="profile-menu-item" onclick="alert('Security settings coming soon!')">
                                    <span class="material-symbols-rounded profile-menu-icon">shield</span>
                                    <span>Security</span>
                                </div>
                                <div class="profile-menu-divider"></div>
                                <div class="profile-menu-item danger" onclick="logout()">
                                    <span class="material-symbols-rounded profile-menu-icon">logout</span>
                                    <span>Logout</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- ═══════════════════════════════════════════════════════════════════════════
                 CONTENT CONTAINER - ALL PAGE TABS
                 ═══════════════════════════════════════════════════════════════════════════ -->
            <div class="content-container" id="contentContainer">
                <!-- ═══════════════════════════════════════════════════════════════
                     PAGE: DASHBOARD (DEFAULT ACTIVE)
                     ═══════════════════════════════════════════════════════════════ -->
                <div class="page-content active" id="dashboard-page">
                    
                    <!-- Welcome Section -->
                    <div class="welcome-section">
                        <h1 class="welcome-title">
                            Welcome back, Aryan!
                            <span class="welcome-emoji">👋</span>
                        </h1>
                        <p class="welcome-subtitle">Here's your financial overview for Sunday, October 12, 2025</p>
                    </div>
                    
                    <!-- Stats Grid -->
                    <div class="stats-grid">
                        <!-- Stat 1: Current Balance -->
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--brand-primary);">
                                    <span class="material-symbols-rounded">account_balance_wallet</span>
                                </div>
                                <div class="stat-trend up">
                                    <span class="material-symbols-rounded" style="font-size: 14px;">arrow_upward</span>
                                    <span>15%</span>
                                </div>
                            </div>
                            <div class="stat-value">₹24,350</div>
                            <div class="stat-label">Current Balance</div>
                        </div>
                        
                        <!-- Stat 2: Monthly Income -->
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--color-success);">
                                    <span class="material-symbols-rounded">trending_up</span>
                                </div>
                                <div class="stat-trend up">
                                    <span class="material-symbols-rounded" style="font-size: 14px;">arrow_upward</span>
                                    <span>12%</span>
                                </div>
                            </div>
                            <div class="stat-value">₹32,450</div>
                            <div class="stat-label">Monthly Income</div>
                        </div>
                        
                        <!-- Stat 3: Monthly Expenses -->
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--color-error);">
                                    <span class="material-symbols-rounded">trending_down</span>
                                </div>
                                <div class="stat-trend down">
                                    <span class="material-symbols-rounded" style="font-size: 14px;">arrow_downward</span>
                                    <span>5%</span>
                                </div>
                            </div>
                            <div class="stat-value">₹18,720</div>
                            <div class="stat-label">Monthly Expenses</div>
                        </div>
                        
                        <!-- Stat 4: Savings Rate -->
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--brand-secondary);">
                                    <span class="material-symbols-rounded">savings</span>
                                </div>
                                <div class="stat-trend up">
                                    <span class="material-symbols-rounded" style="font-size: 14px;">arrow_upward</span>
                                    <span>8%</span>
                                </div>
                            </div>
                            <div class="stat-value">42%</div>
                            <div class="stat-label">Savings Rate</div>
                        </div>
                    </div>
                    
                    <!-- Financial Tools Section -->
                    <div style="margin-bottom: var(--space-2xl);">
                        <div class="section-header">
                            <h2 class="section-title">
                                <span class="section-title-icon">🛠️</span>
                                Financial Tools
                            </h2>
                        </div>
                        
                        <div class="tools-grid">
                            <!-- Tool 1: Budget Planner -->
                            <a href="budget-planner.html" class="tool-card">
                                <div class="tool-icon">
                                    <span class="material-symbols-rounded" style="font-size: 36px; color: white;">calculate</span>
                                </div>
                                <div class="tool-name">Budget Planner</div>
                                <div class="tool-description">Plan your budget with the 50/30/20 rule</div>
                            </a>
                            
                            <!-- Tool 2: Income Tracker -->
                            <a href="income-tracker.html" class="tool-card">
                                <div class="tool-icon">
                                    <span class="material-symbols-rounded" style="font-size: 36px; color: white;">trending_up</span>
                                </div>
                                <div class="tool-name">Income Tracker</div>
                                <div class="tool-description">Track all income sources and streams</div>
                            </a>
                            
                            <!-- Tool 3: Expense Analyzer -->
                            <a href="expense-analyzer.html" class="tool-card">
                                <div class="tool-icon">
                                    <span class="material-symbols-rounded" style="font-size: 36px; color: white;">pie_chart</span>
                                </div>
                                <div class="tool-name">Expense Analyzer</div>
                                <div class="tool-description">Analyze spending patterns & habits</div>
                            </a>
                            
                            <!-- Tool 4: Tax Calculator -->
                            <a href="tax-calculator.html" class="tool-card">
                                <div class="tool-icon">
                                    <span class="material-symbols-rounded" style="font-size: 36px; color: white;">account_balance</span>
                                </div>
                                <div class="tool-name">Tax Calculator</div>
                                <div class="tool-description">Calculate FY 2025-26 income tax</div>
                            </a>
                            
                            <!-- Tool 5: Investment Hub -->
                            <a href="investment-hub.html" class="tool-card">
                                <div class="tool-icon">
                                    <span class="material-symbols-rounded" style="font-size: 36px; color: white;">monitoring</span>
                                </div>
                                <div class="tool-name">Investment Hub</div>
                                <div class="tool-description">Track portfolio & investments</div>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Charts Section -->
                    <div class="dashboard-grid grid-3">
                        
                        <!-- Income vs Expenses Chart -->
                        <div class="card col-span-2">
                            <div class="card-header">
                                <h3 class="card-title">
                                    <span class="card-title-icon">📈</span>
                                    Income vs Expenses Trend
                                </h3>
                                <button class="card-action" onclick="switchTab('insights', event)">
                                    <span>View Details</span>
                                    <span class="material-symbols-rounded" style="font-size: 16px;">arrow_forward</span>
                                </button>
                            </div>
                            <div class="chart-container">
                                <canvas id="incomeExpenseChart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                        
                        <!-- Expense Breakdown Chart -->
                        <div class="card col-span-1">
                            <div class="card-header">
                                <h3 class="card-title">
                                    <span class="card-title-icon">🎯</span>
                                    Expense Breakdown
                                </h3>
                                <a href="expense-analyzer.html" class="card-action">
                                    <span>Analyze</span>
                                    <span class="material-symbols-rounded" style="font-size: 16px;">arrow_forward</span>
                                </a>
                            </div>
                            <div class="chart-container">
                                <canvas id="expenseBreakdownChart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Savings Trend Chart -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-title-icon">💰</span>
                                Monthly Savings Trend
                            </h3>
                            <button class="card-action" onclick="switchTab('goals', event)">
                                <span>View Goals</span>
                                <span class="material-symbols-rounded" style="font-size: 16px;">arrow_forward</span>
                            </button>
                        </div>
                        <div class="chart-container">
                            <canvas id="savingsTrendChart" class="chart-canvas"></canvas>
                        </div>
                    </div>
                    
                    <!-- Category Spending & Income Sources -->
                    <div class="dashboard-grid grid-2">
                        
                        <!-- Category Spending Chart -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">
                                    <span class="card-title-icon">📊</span>
                                    Top Spending Categories
                                </h3>
                                <a href="expense-analyzer.html" class="card-action">
                                    <span>View All</span>
                                    <span class="material-symbols-rounded" style="font-size: 16px;">arrow_forward</span>
                                </a>
                            </div>
                            <div class="chart-container">
                                <canvas id="categorySpendingChart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                        
                        <!-- Income Sources Chart -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">
                                    <span class="card-title-icon">💵</span>
                                    Income Sources
                                </h3>
                                <a href="income-tracker.html" class="card-action">
                                    <span>Track Income</span>
                                    <span class="material-symbols-rounded" style="font-size: 16px;">arrow_forward</span>
                                </a>
                            </div>
                            <div class="chart-container">
                                <canvas id="incomeSourcesChart" class="chart-canvas"></canvas>
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Recent Transactions -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-title-icon">💳</span>
                                Recent Transactions
                            </h3>
                            <button class="card-action" onclick="switchTab('transactions', event)">
                                <span>View All</span>
                                <span class="material-symbols-rounded" style="font-size: 16px;">arrow_forward</span>
                            </button>
                        </div>
                        
                        <table class="transactions-table">
                            <thead>
                                <tr>
                                    <th>Transaction</th>
                                    <th>Category</th>
                                    <th>Date & Time</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody id="recentTransactionsBody">
                                <!-- Will be populated by JavaScript -->
                                <tr>
                                    <td>
                                        <div class="transaction-info">
                                            <div class="transaction-icon" style="background: rgba(52, 168, 83, 0.15);">💼</div>
                                            <div class="transaction-details">
                                                <div class="transaction-name">Freelance Web Project</div>
                                                <div class="transaction-category">Freelance Work</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span style="color: var(--text-tertiary);">Income</span></td>
                                    <td class="transaction-date">Oct 12, 11:30 AM</td>
                                    <td class="transaction-amount income">+₹22,500</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="transaction-info">
                                            <div class="transaction-icon" style="background: rgba(234, 67, 53, 0.15);">🍕</div>
                                            <div class="transaction-details">
                                                <div class="transaction-name">Pizza Delivery</div>
                                                <div class="transaction-category">Food & Dining</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span style="color: var(--text-tertiary);">Food</span></td>
                                    <td class="transaction-date">Oct 12, 8:45 PM</td>
                                    <td class="transaction-amount expense">-₹950</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="transaction-info">
                                            <div class="transaction-icon" style="background: rgba(52, 168, 83, 0.15);">💰</div>
                                            <div class="transaction-details">
                                                <div class="transaction-name">Part-time Salary</div>
                                                <div class="transaction-category">Employment</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span style="color: var(--text-tertiary);">Income</span></td>
                                    <td class="transaction-date">Oct 11, 6:00 PM</td>
                                    <td class="transaction-amount income">+₹9,500</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="transaction-info">
                                            <div class="transaction-icon" style="background: rgba(234, 67, 53, 0.15);">🚖</div>
                                            <div class="transaction-details">
                                                <div class="transaction-name">Uber Ride</div>
                                                <div class="transaction-category">Transportation</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span style="color: var(--text-tertiary);">Transport</span></td>
                                    <td class="transaction-date">Oct 10, 9:15 AM</td>
                                    <td class="transaction-amount expense">-₹420</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="transaction-info">
                                            <div class="transaction-icon" style="background: rgba(234, 67, 53, 0.15);">🛒</div>
                                            <div class="transaction-details">
                                                <div class="transaction-name">Grocery Shopping</div>
                                                <div class="transaction-category">Groceries</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><span style="color: var(--text-tertiary);">Shopping</span></td>
                                    <td class="transaction-date">Oct 9, 5:30 PM</td>
                                    <td class="transaction-amount expense">-₹3,280</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div style="margin-top: var(--space-2xl);">
                        <div class="section-header">
                            <h2 class="section-title">
                                <span class="section-title-icon">⚡</span>
                                Quick Actions
                            </h2>
                        </div>
                        
                        <div class="dashboard-grid grid-4">
                            <!-- Quick Action 1: Add Transaction -->
                            <div class="card" style="text-align: center; cursor: pointer;" onclick="openAddTransactionModal()">
                                <div style="font-size: 48px; margin-bottom: var(--space-md);">➕</div>
                                <h3 style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xs); font-family: 'Space Grotesk', sans-serif;">Add Transaction</h3>
                                <p style="font-size: 13px; color: var(--text-tertiary);">Record a new income or expense</p>
                            </div>
                            
                            <!-- Quick Action 2: Create Goal -->
                            <div class="card" style="text-align: center; cursor: pointer;" onclick="openCreateGoalModal()">
                                <div style="font-size: 48px; margin-bottom: var(--space-md);">🎯</div>
                                <h3 style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xs); font-family: 'Space Grotesk', sans-serif;">Create Goal</h3>
                                <p style="font-size: 13px; color: var(--text-tertiary);">Set a new savings goal</p>
                            </div>
                            
                            <!-- Quick Action 3: View Reports -->
                            <div class="card" style="text-align: center; cursor: pointer;" onclick="switchTab('insights', event)">
                                <div style="font-size: 48px; margin-bottom: var(--space-md);">📊</div>
                                <h3 style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xs); font-family: 'Space Grotesk', sans-serif;">View Reports</h3>
                                <p style="font-size: 13px; color: var(--text-tertiary);">Analyze financial insights</p>
                            </div>
                            
                            <!-- Quick Action 4: Ask AI -->
                            <div class="card" style="text-align: center; cursor: pointer; background: var(--gradient-primary); color: white; border: none;" onclick="toggleChatbot()">
                                <div style="font-size: 48px; margin-bottom: var(--space-md);">🤖</div>
                                <h3 style="font-size: 16px; font-weight: 700; margin-bottom: var(--space-xs); font-family: 'Space Grotesk', sans-serif;">Ask AI Coach</h3>
                                <p style="font-size: 13px; opacity: 0.9;">Get financial advice instantly</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Spacing at bottom -->
                    <div style="height: 80px;"></div>
                    
                </div>
                <!-- End Dashboard Page -->
                <!-- ═══════════════════════════════════════════════════════════════
                     PAGE: TRANSACTIONS
                     ═══════════════════════════════════════════════════════════════ -->
                <div class="page-content" id="transactions-page">
                    
                    <!-- Page Header -->
                    <div class="welcome-section">
                        <h1 class="welcome-title">
                            Transaction History
                            <span class="welcome-emoji">💳</span>
                        </h1>
                        <p class="welcome-subtitle">Track all your income and expenses in one place</p>
                    </div>
                    
                    <!-- Summary Stats -->
                    <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--color-success);">
                                    <span class="material-symbols-rounded">arrow_upward</span>
                                </div>
                            </div>
                            <div class="stat-value" id="totalIncome">₹32,450</div>
                            <div class="stat-label">Total Income (This Month)</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--color-error);">
                                    <span class="material-symbols-rounded">arrow_downward</span>
                                </div>
                            </div>
                            <div class="stat-value" id="totalExpenses">₹18,720</div>
                            <div class="stat-label">Total Expenses (This Month)</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--brand-primary);">
                                    <span class="material-symbols-rounded">payments</span>
                                </div>
                            </div>
                            <div class="stat-value" id="totalTransactions">47</div>
                            <div class="stat-label">Total Transactions</div>
                        </div>
                    </div>
                    
                    <!-- Filters & Actions -->
                    <div class="card">
                        <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: var(--space-md);">
                            <div style="display: flex; gap: var(--space-sm); flex-wrap: wrap;">
                                <button class="btn btn-secondary btn-sm filter-btn active" data-filter="all" onclick="filterTransactions('all')">
                                    All
                                </button>
                                <button class="btn btn-secondary btn-sm filter-btn" data-filter="income" onclick="filterTransactions('income')">
                                    <span class="material-symbols-rounded" style="font-size: 16px;">arrow_upward</span>
                                    Income
                                </button>
                                <button class="btn btn-secondary btn-sm filter-btn" data-filter="expense" onclick="filterTransactions('expense')">
                                    <span class="material-symbols-rounded" style="font-size: 16px;">arrow_downward</span>
                                    Expense
                                </button>
                            </div>
                            <button class="btn btn-primary" onclick="openAddTransactionModal()">
                                <span class="material-symbols-rounded" style="font-size: 18px;">add</span>
                                <span>Add Transaction</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Transactions List -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-title-icon">📋</span>
                                All Transactions
                            </h3>
                            <div style="display: flex; gap: var(--space-sm);">
                                <select class="form-select" style="width: auto; padding: 8px 16px;" onchange="sortTransactions(this.value)">
                                    <option value="date-desc">Newest First</option>
                                    <option value="date-asc">Oldest First</option>
                                    <option value="amount-desc">Highest Amount</option>
                                    <option value="amount-asc">Lowest Amount</option>
                                </select>
                            </div>
                        </div>
                        
                        <table class="transactions-table">
                            <thead>
                                <tr>
                                    <th>Transaction</th>
                                    <th>Type</th>
                                    <th>Category</th>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="allTransactionsBody">
                                <!-- Will be populated by JavaScript with full transaction list -->
                            </tbody>
                        </table>
                        
                        <div style="padding: var(--space-lg); text-align: center; border-top: 1px solid var(--border-subtle);">
                            <p style="color: var(--text-tertiary); font-size: 14px;">Showing <span id="transactionCount">47</span> transactions</p>
                        </div>
                    </div>
                    
                    <!-- Monthly Breakdown -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-title-icon">📅</span>
                                Monthly Breakdown
                            </h3>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-lg);">
                            <div style="text-align: center; padding: var(--space-lg); background: var(--bg-elevated); border-radius: var(--radius-lg);">
                                <div style="font-size: 14px; color: var(--text-tertiary); margin-bottom: var(--space-sm);">Average Transaction</div>
                                <div style="font-size: 24px; font-weight: 800; color: var(--text-primary); font-family: 'Space Grotesk', sans-serif;">₹1,847</div>
                            </div>
                            <div style="text-align: center; padding: var(--space-lg); background: var(--bg-elevated); border-radius: var(--radius-lg);">
                                <div style="font-size: 14px; color: var(--text-tertiary); margin-bottom: var(--space-sm);">Largest Transaction</div>
                                <div style="font-size: 24px; font-weight: 800; color: var(--color-success); font-family: 'Space Grotesk', sans-serif;">₹22,500</div>
                            </div>
                            <div style="text-align: center; padding: var(--space-lg); background: var(--bg-elevated); border-radius: var(--radius-lg);">
                                <div style="font-size: 14px; color: var(--text-tertiary); margin-bottom: var(--space-sm);">Most Frequent Category</div>
                                <div style="font-size: 24px; font-weight: 800; color: var(--text-primary); font-family: 'Space Grotesk', sans-serif;">🍕 Food</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Spacing at bottom -->
                    <div style="height: 80px;"></div>
                    
                </div>
                <!-- End Transactions Page -->
                
                <!-- ═══════════════════════════════════════════════════════════════
                     PAGE: GOALS
                     ═══════════════════════════════════════════════════════════════ -->
                <div class="page-content" id="goals-page">
                    
                    <!-- Page Header -->
                    <div class="welcome-section">
                        <h1 class="welcome-title">
                            Savings Goals
                            <span class="welcome-emoji">🎯</span>
                        </h1>
                        <p class="welcome-subtitle">Track your financial goals and watch your progress grow</p>
                    </div>
                    
                    <!-- Goals Summary -->
                    <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--brand-primary);">
                                    <span class="material-symbols-rounded">flag</span>
                                </div>
                            </div>
                            <div class="stat-value" id="activeGoalsCount">3</div>
                            <div class="stat-label">Active Goals</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--color-success);">
                                    <span class="material-symbols-rounded">savings</span>
                                </div>
                            </div>
                            <div class="stat-value" id="totalSaved">₹48,500</div>
                            <div class="stat-label">Total Saved</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon" style="color: var(--brand-secondary);">
                                    <span class="material-symbols-rounded">trending_up</span>
                                </div>
                            </div>
                            <div class="stat-value" id="overallProgress">62%</div>
                            <div class="stat-label">Overall Progress</div>
                        </div>
                    </div>
                    
                    <!-- Create Goal Button -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-xl);">
                        <h2 class="section-title">
                            <span class="section-title-icon">🎯</span>
                            Active Goals
                        </h2>
                        <button class="btn btn-primary" onclick="openCreateGoalModal()">
                            <span class="material-symbols-rounded" style="font-size: 18px;">add</span>
                            <span>Create New Goal</span>
                        </button>
                    </div>
                    
                    <!-- Active Goals Grid -->
                    <div class="dashboard-grid grid-3" id="activeGoalsGrid">
                        <!-- Will be populated by JavaScript -->
                    </div>
                    
                    <!-- Completed Goals -->
                    <div style="margin-top: var(--space-2xl);">
                        <h2 class="section-title" style="margin-bottom: var(--space-xl);">
                            <span class="section-title-icon">✅</span>
                            Completed Goals
                        </h2>
                        
                        <div class="dashboard-grid grid-3" id="completedGoalsGrid">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Goal Tips -->
                    <div class="card" style="background: var(--gradient-primary); color: white; border: none;">
                        <h3 style="font-size: 20px; font-weight: 700; margin-bottom: var(--space-md); font-family: 'Space Grotesk', sans-serif;">💡 Goal Setting Tips</h3>
                        <ul style="list-style: none; padding: 0;">
                            <li style="margin-bottom: var(--space-sm); padding-left: 24px; position: relative;">
                                <span style="position: absolute; left: 0;">✓</span>
                                Make your goals specific and measurable
                            </li>
                            <li style="margin-bottom: var(--space-sm); padding-left: 24px; position: relative;">
                                <span style="position: absolute; left: 0;">✓</span>
                                Set realistic deadlines based on your income
                            </li>
                            <li style="margin-bottom: var(--space-sm); padding-left: 24px; position: relative;">
                                <span style="position: absolute; left: 0;">✓</span>
                                Break large goals into smaller milestones
                            </li>
                            <li style="padding-left: 24px; position: relative;">
                                <span style="position: absolute; left: 0;">✓</span>
                                Automate your savings with direct transfers
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Spacing at bottom -->
                    <div style="height: 80px;"></div>
                    
                </div>
                <!-- End Goals Page -->
                <!-- ═══════════════════════════════════════════════════════════════
                     PAGE: INSIGHTS
                     ═══════════════════════════════════════════════════════════════ -->
                <div class="page-content" id="insights-page">
                    
                    <!-- Page Header -->
                    <div class="welcome-section">
                        <h1 class="welcome-title">
                            Financial Insights
                            <span class="welcome-emoji">💡</span>
                        </h1>
                        <p class="welcome-subtitle">AI-powered insights to improve your financial health</p>
                    </div>
                    
                    <!-- Financial Health Score -->
                    <div class="card" style="background: var(--gradient-primary); color: white; border: none;">
                        <div style="text-align: center; padding: var(--space-lg);">
                            <h2 style="font-size: 16px; font-weight: 600; margin-bottom: var(--space-lg); opacity: 0.9;">Your Financial Health Score</h2>
                            <div style="font-size: 72px; font-weight: 900; font-family: 'Space Grotesk', sans-serif; margin-bottom: var(--space-sm);">847</div>
                            <div style="font-size: 18px; font-weight: 600; opacity: 0.9;">out of 1000</div>
                            <div style="margin-top: var(--space-lg);">
                                <div style="background: rgba(255, 255, 255, 0.2); height: 12px; border-radius: var(--radius-full); overflow: hidden;">
                                    <div style="background: white; height: 100%; width: 84.7%; border-radius: var(--radius-full);"></div>
                                </div>
                            </div>
                            <p style="margin-top: var(--space-lg); font-size: 14px; opacity: 0.9;">Excellent! You're managing your finances better than 85% of users.</p>
                        </div>
                    </div>
                    
                    <!-- AI Recommendations -->
                    <div class="section-header">
                        <h2 class="section-title">
                            <span class="section-title-icon">🤖</span>
                            AI Recommendations
                        </h2>
                    </div>
                    
                    <div class="dashboard-grid grid-2">
                        <!-- Recommendation 1 -->
                        <div class="card">
                            <div style="display: flex; gap: var(--space-md); margin-bottom: var(--space-lg);">
                                <div style="width: 48px; height: 48px; background: rgba(52, 168, 83, 0.15); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0;">💰</div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xs);">Increase Your Savings</h3>
                                    <p style="font-size: 14px; color: var(--text-tertiary); line-height: 1.6;">Your savings rate is excellent at 42%! Consider investing ₹5,000 monthly in a mutual fund to grow your wealth faster.</p>
                                </div>
                            </div>
                            <button class="btn btn-primary btn-sm" onclick="toggleChatbot()">Ask AI for Details</button>
                        </div>
                        
                        <!-- Recommendation 2 -->
                        <div class="card">
                            <div style="display: flex; gap: var(--space-md); margin-bottom: var(--space-lg);">
                                <div style="width: 48px; height: 48px; background: rgba(251, 188, 4, 0.15); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0;">🍕</div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xs);">Reduce Food Expenses</h3>
                                    <p style="font-size: 14px; color: var(--text-tertiary); line-height: 1.6;">Your food spending is 28% higher than average. Try meal prepping to save ₹2,500 monthly.</p>
                                </div>
                            </div>
                            <button class="btn btn-primary btn-sm" onclick="toggleChatbot()">Get Saving Tips</button>
                        </div>
                        
                        <!-- Recommendation 3 -->
                        <div class="card">
                            <div style="display: flex; gap: var(--space-md); margin-bottom: var(--space-lg);">
                                <div style="width: 48px; height: 48px; background: rgba(66, 133, 244, 0.15); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0;">🎯</div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xs);">Goal on Track</h3>
                                    <p style="font-size: 14px; color: var(--text-tertiary); line-height: 1.6;">Great progress! Your Emergency Fund goal will be completed 12 days early at the current rate.</p>
                                </div>
                            </div>
                            <button class="btn btn-success btn-sm" onclick="switchTab('goals', event)">View Goals</button>
                        </div>
                        
                        <!-- Recommendation 4 -->
                        <div class="card">
                            <div style="display: flex; gap: var(--space-md); margin-bottom: var(--space-lg);">
                                <div style="width: 48px; height: 48px; background: rgba(168, 85, 247, 0.15); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; font-size: 24px; flex-shrink: 0;">📊</div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xs);">Tax Planning</h3>
                                    <p style="font-size: 14px; color: var(--text-tertiary); line-height: 1.6;">You can save ₹18,500 in taxes by investing in 80C instruments. Start planning for FY 2025-26.</p>
                                </div>
                            </div>
                            <a href="tax-calculator.html" class="btn btn-primary btn-sm">Calculate Tax</a>
                        </div>
                    </div>
                    
                    <!-- Spending Analysis -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-title-icon">📊</span>
                                Spending Analysis
                            </h3>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-xl);">
                            <div>
                                <h4 style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-md);">Top Categories</h4>
                                <div style="display: flex; flex-direction: column; gap: var(--space-md);">
                                    <div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-sm);">
                                            <span style="font-size: 14px; color: var(--text-secondary);">🍕 Food & Dining</span>
                                            <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">₹6,240</span>
                                        </div>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar" style="width: 33.3%;"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-sm);">
                                            <span style="font-size: 14px; color: var(--text-secondary);">🚖 Transportation</span>
                                            <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">₹4,520</span>
                                        </div>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar" style="width: 24.1%; background: var(--gradient-secondary);"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-sm);">
                                            <span style="font-size: 14px; color: var(--text-secondary);">🎬 Entertainment</span>
                                            <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">₹3,180</span>
                                        </div>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar" style="width: 17%; background: var(--gradient-warning);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h4 style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-md);">Monthly Trends</h4>
                                <div style="display: flex; flex-direction: column; gap: var(--space-md);">
                                    <div style="display: flex; justify-content: space-between; padding: var(--space-md); background: var(--bg-elevated); border-radius: var(--radius-md);">
                                        <span style="font-size: 14px; color: var(--text-secondary);">Avg. Daily Spending</span>
                                        <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">₹624</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: var(--space-md); background: var(--bg-elevated); border-radius: var(--radius-md);">
                                        <span style="font-size: 14px; color: var(--text-secondary);">Most Expensive Day</span>
                                        <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">Oct 12 (₹3,470)</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: var(--space-md); background: var(--bg-elevated); border-radius: var(--radius-md);">
                                        <span style="font-size: 14px; color: var(--text-secondary);">Budget Remaining</span>
                                        <span style="font-size: 14px; font-weight: 700; color: var(--color-success);">₹8,450</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Spacing at bottom -->
                    <div style="height: 80px;"></div>
                    
                </div>
                <!-- End Insights Page -->
                
            </div>
            <!-- End Content Container -->
            
        </main>
        <!-- End Main Content -->
        
    </div>
    <!-- End App Container -->
    
    <!-- ═══════════════════════════════════════════════════════════════════════════
         MOBILE OVERLAY
         ═══════════════════════════════════════════════════════════════════════════ -->
    <div class="mobile-overlay" id="mobileOverlay" onclick="closeSidebar()"></div>
    
    <!-- ═══════════════════════════════════════════════════════════════════════════
         MODALS
         ═══════════════════════════════════════════════════════════════════════════ -->
    
    <!-- Add Transaction Modal -->
    <div class="modal-overlay" id="addTransactionModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span style="font-size: 28px;">➕</span>
                    Add Transaction
                </h2>
                <button class="modal-close" onclick="closeAddTransactionModal()">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            
            <div class="modal-body">
                <form id="addTransactionForm" onsubmit="handleAddTransaction(event)">
                    
                    <!-- Transaction Type -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Transaction Type</label>
                        <div class="form-radio-group">
                            <label class="form-radio active">
                                <input type="radio" name="transactionType" value="income" checked onchange="updateTransactionType(this)">
                                <span>💰 Income</span>
                            </label>
                            <label class="form-radio">
                                <input type="radio" name="transactionType" value="expense" onchange="updateTransactionType(this)">
                                <span>💸 Expense</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Amount -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Amount (₹)</label>
                        <input type="number" class="form-input" name="amount" placeholder="Enter amount" required min="1" step="0.01">
                    </div>
                    
                    <!-- Category -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Category</label>
                        <select class="form-select" name="category" required id="transactionCategory">
                            <optgroup label="Income Categories">
                                <option value="Freelance Work">💼 Freelance Work</option>
                                <option value="Salary">💰 Salary</option>
                                <option value="Part-time Job">👔 Part-time Job</option>
                                <option value="Investment Returns">📈 Investment Returns</option>
                                <option value="Other Income">💵 Other Income</option>
                            </optgroup>
                            <optgroup label="Expense Categories">
                                <option value="Food & Dining">🍕 Food & Dining</option>
                                <option value="Transportation">🚖 Transportation</option>
                                <option value="Shopping">🛒 Shopping</option>
                                <option value="Bills & Utilities">📱 Bills & Utilities</option>
                                <option value="Entertainment">🎬 Entertainment</option>
                                <option value="Health & Fitness">🏋️ Health & Fitness</option>
                                <option value="Education">📚 Education</option>
                                <option value="Other Expense">💳 Other Expense</option>
                            </optgroup>
                        </select>
                    </div>
                    
                    <!-- Description -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Description</label>
                        <input type="text" class="form-input" name="description" placeholder="Brief description" required>
                    </div>
                    
                    <!-- Date -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Date</label>
                        <input type="datetime-local" class="form-input" name="date" required>
                    </div>
                    
                    <!-- Notes (Optional) -->
                    <div class="form-group">
                        <label class="form-label">Notes (Optional)</label>
                        <textarea class="form-textarea" name="notes" placeholder="Additional notes..."></textarea>
                    </div>
                    
                </form>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeAddTransactionModal()">Cancel</button>
                <button type="submit" form="addTransactionForm" class="btn btn-primary">
                    <span class="material-symbols-rounded" style="font-size: 18px;">add</span>
                    <span>Add Transaction</span>
                </button>
            </div>
        </div>
    </div>
    <!-- Create Goal Modal -->
    <div class="modal-overlay" id="createGoalModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span style="font-size: 28px;">🎯</span>
                    Create Savings Goal
                </h2>
                <button class="modal-close" onclick="closeCreateGoalModal()">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            
            <div class="modal-body">
                <form id="createGoalForm" onsubmit="handleCreateGoal(event)">
                    
                    <!-- Goal Icon -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Choose an Icon</label>
                        <div class="icon-picker-grid">
                            <div class="icon-option selected" data-icon="🏠" onclick="selectGoalIcon(this)">🏠</div>
                            <div class="icon-option" data-icon="🚗" onclick="selectGoalIcon(this)">🚗</div>
                            <div class="icon-option" data-icon="✈️" onclick="selectGoalIcon(this)">✈️</div>
                            <div class="icon-option" data-icon="💍" onclick="selectGoalIcon(this)">💍</div>
                            <div class="icon-option" data-icon="🎓" onclick="selectGoalIcon(this)">🎓</div>
                            <div class="icon-option" data-icon="💻" onclick="selectGoalIcon(this)">💻</div>
                            <div class="icon-option" data-icon="📱" onclick="selectGoalIcon(this)">📱</div>
                            <div class="icon-option" data-icon="🏥" onclick="selectGoalIcon(this)">🏥</div>
                            <div class="icon-option" data-icon="🎉" onclick="selectGoalIcon(this)">🎉</div>
                            <div class="icon-option" data-icon="💰" onclick="selectGoalIcon(this)">💰</div>
                            <div class="icon-option" data-icon="🎯" onclick="selectGoalIcon(this)">🎯</div>
                            <div class="icon-option" data-icon="⭐" onclick="selectGoalIcon(this)">⭐</div>
                        </div>
                        <input type="hidden" name="icon" value="🏠" id="selectedGoalIcon">
                    </div>
                    
                    <!-- Goal Name -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Goal Name</label>
                        <input type="text" class="form-input" name="goalName" placeholder="e.g., Emergency Fund, New Laptop" required>
                    </div>
                    
                    <!-- Target Amount -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Target Amount (₹)</label>
                        <input type="number" class="form-input" name="targetAmount" placeholder="Enter target amount" required min="100" step="1">
                    </div>
                    
                    <!-- Current Savings -->
                    <div class="form-group">
                        <label class="form-label">Current Savings (₹)</label>
                        <input type="number" class="form-input" name="currentAmount" placeholder="How much have you saved already?" min="0" step="1" value="0">
                        <div class="form-helper">Leave as 0 if starting fresh</div>
                    </div>
                    
                    <!-- Target Date -->
                    <div class="form-group">
                        <label class="form-label form-label-required">Target Date</label>
                        <input type="date" class="form-input" name="targetDate" required>
                        <div class="form-helper">When do you want to achieve this goal?</div>
                    </div>
                    
                    <!-- Monthly Contribution (Optional) -->
                    <div class="form-group">
                        <label class="form-label">Monthly Contribution (₹)</label>
                        <input type="number" class="form-input" name="monthlyContribution" placeholder="Optional: Set monthly saving amount" min="0" step="1">
                    </div>
                    
                    <!-- Description -->
                    <div class="form-group">
                        <label class="form-label">Description (Optional)</label>
                        <textarea class="form-textarea" name="description" placeholder="Why is this goal important to you?"></textarea>
                    </div>
                    
                </form>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeCreateGoalModal()">Cancel</button>
                <button type="submit" form="createGoalForm" class="btn btn-primary">
                    <span class="material-symbols-rounded" style="font-size: 18px;">add</span>
                    <span>Create Goal</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- ═══════════════════════════════════════════════════════════════════════════
         AI CHATBOT COMPONENT
         ═══════════════════════════════════════════════════════════════════════════ -->
    
    <div class="chatbot-container">
        <!-- Chatbot Toggle Button -->
        <button class="chatbot-toggle" id="chatbotToggle" onclick="toggleChatbot()" aria-label="Toggle AI Assistant">
            <span class="material-symbols-rounded" style="font-size: 32px;">psychology</span>
        </button>
        
        <!-- Chatbot Window -->
        <div class="chatbot-window" id="chatbotWindow">
            <!-- Chatbot Header -->
            <div class="chatbot-header">
                <div class="chatbot-header-left">
                    <div class="chatbot-avatar">🤖</div>
                    <div class="chatbot-info">
                        <div class="chatbot-title">FinSavvy AI Coach</div>
                        <div class="chatbot-status">
                            <span class="chatbot-status-dot"></span>
                            <span>Online & Ready</span>
                        </div>
                    </div>
                </div>
                <div class="chatbot-header-actions">
                    <button class="chatbot-header-btn" id="minimizeBtn" onclick="minimizeChatbot()" title="Minimize">
                        <span class="material-symbols-rounded">minimize</span>
                    </button>
                    <button class="chatbot-header-btn" id="maximizeBtn" onclick="toggleMaximizeChatbot()" title="Maximize">
                        <span class="material-symbols-rounded">open_in_full</span>
                    </button>
                    <button class="chatbot-header-btn" onclick="closeChatbot()" title="Close">
                        <span class="material-symbols-rounded">close</span>
                    </button>
                </div>
            </div>
            
            <!-- Chatbot Body -->
            <div class="chatbot-body" id="chatbotBody">
                <!-- Welcome Message -->
                <div class="chat-welcome">
                    <div class="chat-welcome-icon">👋</div>
                    <div class="chat-welcome-title">Hey Aryan! I'm your AI Financial Coach</div>
                    <div class="chat-welcome-subtitle">
                        I can help you with budgeting, savings tips, expense analysis, and financial planning. What would you like to know?
                    </div>
                    <div class="chat-suggestions">
                        <div class="chat-suggestion" onclick="sendSuggestion('How can I save more money?')">
                            💰 Save More Money
                        </div>
                        <div class="chat-suggestion" onclick="sendSuggestion('Analyze my spending')">
                            📊 Analyze Spending
                        </div>
                        <div class="chat-suggestion" onclick="sendSuggestion('Budget recommendations')">
                            🎯 Budget Tips
                        </div>
                        <div class="chat-suggestion" onclick="sendSuggestion('Investment advice')">
                            📈 Investment Advice
                        </div>
                    </div>
                </div>
                
                <!-- Sample Initial Message -->
                <div class="chat-message bot">
                    <div class="chat-avatar-msg">🤖</div>
                    <div class="chat-content">
                        <div class="chat-bubble">
                            Hello! I've analyzed your recent transactions. You're doing great with your 42% savings rate! 🎉 Keep up the excellent work!
                        </div>
                        <div class="chat-time">5:50 PM</div>
                    </div>
                </div>
                
            </div>
            
            <!-- Chatbot Footer -->
            <div class="chatbot-footer">
                <div class="chat-input-container">
                    <textarea 
                        class="chat-input" 
                        id="chatInput" 
                        placeholder="Ask me anything about your finances..."
                        rows="1"
                        onkeypress="handleChatEnter(event)"
                    ></textarea>
                    <button class="chat-send-btn" id="chatSendBtn" onclick="sendMessage()">
                        <span class="material-symbols-rounded">send</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ═══════════════════════════════════════════════════════════════════════════
         JAVASCRIPT - START
         ═══════════════════════════════════════════════════════════════════════════ -->
    
    <script>
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 1: GLOBAL STATE & SAMPLE DATA
           ═══════════════════════════════════════════════════════════════════════════ */
        
        const AppState = {
            theme: localStorage.getItem('theme') || 'dark',
            currentTab: 'dashboard',
            sidebarOpen: false,
            profileDropdownOpen: false,
            chatbotOpen: false,
            chatbotMinimized: false,
            chatbotMaximized: false,
            charts: {},
            chatMessages: [],
            transactions: [],
            goals: [],
            initialized: false
        };
        
        // Sample Transactions Data
        const sampleTransactions = [
            { id: 1, type: 'income', category: 'Freelance Work', description: 'Freelance Web Project', amount: 22500, date: '2025-10-12T11:30:00', icon: '💼' },
            { id: 2, type: 'expense', category: 'Food & Dining', description: 'Pizza Delivery', amount: 950, date: '2025-10-12T20:45:00', icon: '🍕' },
            { id: 3, type: 'income', category: 'Salary', description: 'Part-time Salary', amount: 9500, date: '2025-10-11T18:00:00', icon: '💰' },
            { id: 4, type: 'expense', category: 'Transportation', description: 'Uber Ride', amount: 420, date: '2025-10-10T09:15:00', icon: '🚖' },
            { id: 5, type: 'expense', category: 'Shopping', description: 'Grocery Shopping', amount: 3280, date: '2025-10-09T17:30:00', icon: '🛒' },
            { id: 6, type: 'expense', category: 'Bills & Utilities', description: 'Phone Recharge', amount: 599, date: '2025-10-08T11:20:00', icon: '📱' },
            { id: 7, type: 'expense', category: 'Food & Dining', description: 'Starbucks Coffee', amount: 420, date: '2025-10-07T16:15:00', icon: '☕' },
            { id: 8, type: 'expense', category: 'Entertainment', description: 'Netflix Subscription', amount: 649, date: '2025-10-06T12:00:00', icon: '🎬' },
            { id: 9, type: 'income', category: 'Freelance Work', description: 'Freelance Consulting', amount: 12000, date: '2025-10-05T15:00:00', icon: '📈' },
            { id: 10, type: 'expense', category: 'Health & Fitness', description: 'Gym Membership', amount: 1500, date: '2025-10-04T08:00:00', icon: '🏋️' }
        ];
        
        // Sample Goals Data
        const sampleGoals = [
            {
                id: 1,
                icon: '🏠',
                name: 'Emergency Fund',
                targetAmount: 50000,
                currentAmount: 32500,
                targetDate: '2025-12-31',
                description: 'Save for 6 months of expenses',
                status: 'active',
                createdAt: '2025-08-01'
            },
            {
                id: 2,
                icon: '💻',
                name: 'New Laptop',
                targetAmount: 80000,
                currentAmount: 45000,
                targetDate: '2026-03-15',
                description: 'MacBook Pro for development work',
                status: 'active',
                createdAt: '2025-07-15'
            },
            {
                id: 3,
                icon: '✈️',
                name: 'Vacation Trip',
                targetAmount: 40000,
                currentAmount: 28000,
                targetDate: '2026-01-20',
                description: 'Trip to Goa with friends',
                status: 'active',
                createdAt: '2025-06-10'
            }
        ];
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 2: INITIALIZATION
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function initializeApp() {
            console.log('%c💰 FinSavvy AI Dashboard Initializing...', 'color: #FF6B6B; font-size: 16px; font-weight: bold;');
            
            // Load data from localStorage or use sample data
            loadDataFromStorage();
            
            // Set theme
            document.documentElement.setAttribute('data-theme', AppState.theme);
            
            // Initialize event listeners
            setupEventListeners();
            
            // Load initial tab content
            loadTabContent('dashboard');
            
            // Initialize charts after a short delay
            setTimeout(() => {
                initializeCharts();
                console.log('%c✅ All charts loaded successfully!', 'color: #34A853; font-weight: bold;');
            }, 500);
            
            // Auto-resize chat input
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('input', autoResizeChatInput);
            }
            
            // Set default date for forms
            setDefaultFormDates();
            
            AppState.initialized = true;
            console.log('%c🚀 FinSavvy AI Dashboard Ready!', 'color: #4ECDC4; font-size: 14px; font-weight: bold;');
        }
        
        function loadDataFromStorage() {
            // Load transactions
            const savedTransactions = localStorage.getItem('finsavvy_transactions');
            AppState.transactions = savedTransactions ? JSON.parse(savedTransactions) : sampleTransactions;
            
            // Load goals
            const savedGoals = localStorage.getItem('finsavvy_goals');
            AppState.goals = savedGoals ? JSON.parse(savedGoals) : sampleGoals;
            
            console.log(`📊 Loaded ${AppState.transactions.length} transactions`);
            console.log(`🎯 Loaded ${AppState.goals.length} goals`);
        }
        
        function saveDataToStorage() {
            localStorage.setItem('finsavvy_transactions', JSON.stringify(AppState.transactions));
            localStorage.setItem('finsavvy_goals', JSON.stringify(AppState.goals));
            console.log('💾 Data saved to localStorage');
        }
        
        function setDefaultFormDates() {
            // Set current date/time for transaction form
            const now = new Date();
            const dateInput = document.querySelector('#addTransactionForm input[name="date"]');
            if (dateInput) {
                const localDateTime = new Date(now.getTime() - now.getTimezoneOffset() * 60000)
                    .toISOString()
                    .slice(0, 16);
                dateInput.value = localDateTime;
            }
            
            // Set minimum date for goal form (tomorrow)
            const tomorrow = new Date(now);
            tomorrow.setDate(tomorrow.getDate() + 1);
            const goalDateInput = document.querySelector('#createGoalForm input[name="targetDate"]');
            if (goalDateInput) {
                goalDateInput.min = tomorrow.toISOString().split('T')[0];
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 3: EVENT LISTENERS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function setupEventListeners() {
            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                const profileDropdown = document.getElementById('profileDropdown');
                if (profileDropdown && !profileDropdown.contains(e.target) && AppState.profileDropdownOpen) {
                    toggleProfileDropdown();
                }
            });
            
            // Handle window resize
            window.addEventListener('resize', () => {
                if (window.innerWidth > 1024 && AppState.sidebarOpen) {
                    closeSidebar();
                }
            });
            
            // Search functionality
            const searchInput = document.getElementById('globalSearch');
            if (searchInput) {
                searchInput.addEventListener('input', handleSearch);
            }
            
            // Keyboard shortcuts
            document.addEventListener('keydown', handleKeyboardShortcuts);
        }
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 4: TAB SWITCHING & NAVIGATION
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function switchTab(tabName, event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            console.log(`🔄 Switching to: ${tabName}`);
            
            // Update state
            AppState.currentTab = tabName;
            
            // Update active tab in header
            document.querySelectorAll('.header-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            const activeHeaderTab = document.querySelector(`.header-tab[data-tab="${tabName}"]`);
            if (activeHeaderTab) {
                activeHeaderTab.classList.add('active');
            }
            
            // Update active nav item in sidebar
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            const activeNavItem = document.querySelector(`.nav-item[onclick*="${tabName}"]`);
            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }
            
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            const selectedPage = document.getElementById(`${tabName}-page`);
            if (selectedPage) {
                selectedPage.classList.add('active');
                
                // Load tab-specific content
                loadTabContent(tabName);
            }
            
            // Update page title
            const titles = {
                'dashboard': 'Dashboard',
                'transactions': 'Transaction History',
                'goals': 'Savings Goals',
                'insights': 'Financial Insights'
            };
            document.getElementById('pageTitle').textContent = titles[tabName] || 'Dashboard';
            
            // Close sidebar on mobile
            if (window.innerWidth <= 1024) {
                closeSidebar();
            }
            
            // Scroll to top
            const contentContainer = document.getElementById('contentContainer');
            if (contentContainer) {
                contentContainer.scrollTop = 0;
            }
        }
        
        function loadTabContent(tabName) {
            switch(tabName) {
                case 'dashboard':
                    // Dashboard is already loaded
                    break;
                case 'transactions':
                    loadTransactionsPage();
                    break;
                case 'goals':
                    loadGoalsPage();
                    break;
                case 'insights':
                    // Insights is static content
                    break;
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 5: TRANSACTIONS PAGE FUNCTIONS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function loadTransactionsPage() {
            const tbody = document.getElementById('allTransactionsBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            // Sort transactions by date (newest first)
            const sortedTransactions = [...AppState.transactions].sort((a, b) => 
                new Date(b.date) - new Date(a.date)
            );
            
            sortedTransactions.forEach(transaction => {
                const row = createTransactionRow(transaction);
                tbody.appendChild(row);
            });
            
            // Update counts
            updateTransactionStats();
        }
        
        function createTransactionRow(transaction) {
            const row = document.createElement('tr');
            const date = new Date(transaction.date);
            const formattedDate = date.toLocaleDateString('en-IN', { 
                month: 'short', 
                day: 'numeric', 
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const bgColor = transaction.type === 'income' ? 
                'rgba(52, 168, 83, 0.15)' : 
                'rgba(234, 67, 53, 0.15)';
            
            row.innerHTML = `
                <td>
                    <div class="transaction-info">
                        <div class="transaction-icon" style="background: ${bgColor};">
                            ${transaction.icon}
                        </div>
                        <div class="transaction-details">
                            <div class="transaction-name">${transaction.description}</div>
                            <div class="transaction-category">${transaction.category}</div>
                        </div>
                    </div>
                </td>
                <td>
                    <span class="badge badge-${transaction.type === 'income' ? 'success' : 'error'}">
                        ${transaction.type === 'income' ? '↑ Income' : '↓ Expense'}
                    </span>
                </td>
                <td><span style="color: var(--text-tertiary);">${transaction.category}</span></td>
                <td class="transaction-date">${formattedDate}</td>
                <td class="transaction-amount ${transaction.type}">
                    ${transaction.type === 'income' ? '+' : '-'}₹${transaction.amount.toLocaleString('en-IN')}
                </td>
                <td>
                    <button class="btn btn-secondary btn-sm btn-icon" onclick="deleteTransaction(${transaction.id})" title="Delete">
                        <span class="material-symbols-rounded" style="font-size: 16px;">delete</span>
                    </button>
                </td>
            `;
            
            return row;
        }
        
        function updateTransactionStats() {
            const income = AppState.transactions
                .filter(t => t.type === 'income')
                .reduce((sum, t) => sum + t.amount, 0);
            
            const expenses = AppState.transactions
                .filter(t => t.type === 'expense')
                .reduce((sum, t) => sum + t.amount, 0);
            
            document.getElementById('totalIncome').textContent = `₹${income.toLocaleString('en-IN')}`;
            document.getElementById('totalExpenses').textContent = `₹${expenses.toLocaleString('en-IN')}`;
            document.getElementById('totalTransactions').textContent = AppState.transactions.length;
            document.getElementById('transactionCount').textContent = AppState.transactions.length;
        }
        
        function filterTransactions(filter) {
            // Update filter button states
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            const tbody = document.getElementById('allTransactionsBody');
            if (!tbody) return;
            
            let filteredTransactions = AppState.transactions;
            
            if (filter === 'income') {
                filteredTransactions = AppState.transactions.filter(t => t.type === 'income');
            } else if (filter === 'expense') {
                filteredTransactions = AppState.transactions.filter(t => t.type === 'expense');
            }
            
            tbody.innerHTML = '';
            filteredTransactions
                .sort((a, b) => new Date(b.date) - new Date(a.date))
                .forEach(transaction => {
                    const row = createTransactionRow(transaction);
                    tbody.appendChild(row);
                });
            
            document.getElementById('transactionCount').textContent = filteredTransactions.length;
        }
        
        function sortTransactions(sortBy) {
            const tbody = document.getElementById('allTransactionsBody');
            if (!tbody) return;
            
            let sortedTransactions = [...AppState.transactions];
            
            switch(sortBy) {
                case 'date-desc':
                    sortedTransactions.sort((a, b) => new Date(b.date) - new Date(a.date));
                    break;
                case 'date-asc':
                    sortedTransactions.sort((a, b) => new Date(a.date) - new Date(b.date));
                    break;
                case 'amount-desc':
                    sortedTransactions.sort((a, b) => b.amount - a.amount);
                    break;
                case 'amount-asc':
                    sortedTransactions.sort((a, b) => a.amount - b.amount);
                    break;
            }
            
            tbody.innerHTML = '';
            sortedTransactions.forEach(transaction => {
                const row = createTransactionRow(transaction);
                tbody.appendChild(row);
            });
        }
        
        function deleteTransaction(id) {
            if (confirm('Are you sure you want to delete this transaction?')) {
                AppState.transactions = AppState.transactions.filter(t => t.id !== id);
                saveDataToStorage();
                loadTransactionsPage();
                showToast('Transaction deleted successfully', 'success');
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 6: GOALS PAGE FUNCTIONS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function loadGoalsPage() {
            const activeGrid = document.getElementById('activeGoalsGrid');
            const completedGrid = document.getElementById('completedGoalsGrid');
            
            if (!activeGrid || !completedGrid) return;
            
            // Clear grids
            activeGrid.innerHTML = '';
            completedGrid.innerHTML = '';
            
            // Separate active and completed goals
            const activeGoals = AppState.goals.filter(g => g.status === 'active');
            const completedGoals = AppState.goals.filter(g => g.status === 'completed');
            
            // Render active goals
            if (activeGoals.length === 0) {
                activeGrid.innerHTML = `
                    <div class="card" style="grid-column: 1 / -1; text-align: center; padding: var(--space-2xl);">
                        <div style="font-size: 64px; margin-bottom: var(--space-md);">🎯</div>
                        <h3 style="font-size: 20px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-sm);">No Active Goals Yet</h3>
                        <p style="font-size: 14px; color: var(--text-tertiary); margin-bottom: var(--space-lg);">Create your first savings goal to start tracking your progress!</p>
                        <button class="btn btn-primary" onclick="openCreateGoalModal()">
                            <span class="material-symbols-rounded" style="font-size: 18px;">add</span>
                            <span>Create Your First Goal</span>
                        </button>
                    </div>
                `;
            } else {
                activeGoals.forEach(goal => {
                    const card = createGoalCard(goal);
                    activeGrid.appendChild(card);
                });
            }
            
            // Render completed goals
            if (completedGoals.length === 0) {
                completedGrid.innerHTML = `
                    <div class="card" style="grid-column: 1 / -1; text-align: center; padding: var(--space-xl);">
                        <p style="font-size: 14px; color: var(--text-tertiary);">No completed goals yet. Keep working towards your active goals! 💪</p>
                    </div>
                `;
            } else {
                completedGoals.forEach(goal => {
                    const card = createGoalCard(goal);
                    completedGrid.appendChild(card);
                });
            }
            
            // Update stats
            updateGoalStats();
        }
        
        function createGoalCard(goal) {
            const card = document.createElement('div');
            card.className = 'card';
            
            const progress = Math.min((goal.currentAmount / goal.targetAmount) * 100, 100);
            const daysLeft = Math.ceil((new Date(goal.targetDate) - new Date()) / (1000 * 60 * 60 * 24));
            
            const isCompleted = goal.status === 'completed' || progress >= 100;
            
            card.innerHTML = `
                <div style="text-align: center; margin-bottom: var(--space-lg);">
                    <div style="font-size: 48px; margin-bottom: var(--space-md);">${goal.icon}</div>
                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xs); font-family: 'Space Grotesk', sans-serif;">${goal.name}</h3>
                    <p style="font-size: 13px; color: var(--text-tertiary);">${goal.description || 'No description'}</p>
                </div>
                
                <div style="margin-bottom: var(--space-lg);">
                    <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-sm);">
                        <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">₹${goal.currentAmount.toLocaleString('en-IN')}</span>
                        <span style="font-size: 14px; color: var(--text-tertiary);">₹${goal.targetAmount.toLocaleString('en-IN')}</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: ${progress}%;"></div>
                    </div>
                    <div style="text-align: center; margin-top: var(--space-sm);">
                        <span style="font-size: 16px; font-weight: 700; color: var(--brand-primary);">${progress.toFixed(1)}%</span>
                        <span style="font-size: 13px; color: var(--text-tertiary); margin-left: var(--space-sm);">
                            ${isCompleted ? '✅ Completed!' : `${daysLeft} days left`}
                        </span>
                    </div>
                </div>
                
                ${!isCompleted ? `
                    <div style="display: flex; gap: var(--space-sm);">
                        <button class="btn btn-primary btn-sm" style="flex: 1;" onclick="addMoneyToGoal(${goal.id})">
                            <span class="material-symbols-rounded" style="font-size: 16px;">add</span>
                            <span>Add Money</span>
                        </button>
                        <button class="btn btn-secondary btn-sm btn-icon" onclick="deleteGoal(${goal.id})" title="Delete">
                            <span class="material-symbols-rounded" style="font-size: 16px;">delete</span>
                        </button>
                    </div>
                ` : `
                    <div style="text-align: center; padding: var(--space-md); background: var(--gradient-success); color: white; border-radius: var(--radius-lg);">
                        <span style="font-weight: 700;">🎉 Goal Achieved!</span>
                    </div>
                `}
            `;
            
            return card;
        }
        
        function updateGoalStats() {
            const activeGoals = AppState.goals.filter(g => g.status === 'active');
            const totalSaved = AppState.goals.reduce((sum, g) => sum + g.currentAmount, 0);
            const totalTarget = AppState.goals.reduce((sum, g) => sum + g.targetAmount, 0);
            const overallProgress = totalTarget > 0 ? (totalSaved / totalTarget) * 100 : 0;
            
            document.getElementById('activeGoalsCount').textContent = activeGoals.length;
            document.getElementById('totalSaved').textContent = `₹${totalSaved.toLocaleString('en-IN')}`;
            document.getElementById('overallProgress').textContent = `${overallProgress.toFixed(0)}%`;
        }
        
        function addMoneyToGoal(goalId) {
            const goal = AppState.goals.find(g => g.id === goalId);
            if (!goal) return;
            
            const amount = prompt(`How much would you like to add to "${goal.name}"?`);
            if (amount && !isNaN(amount) && parseFloat(amount) > 0) {
                goal.currentAmount += parseFloat(amount);
                
                // Check if goal is completed
                if (goal.currentAmount >= goal.targetAmount) {
                    goal.status = 'completed';
                    showToast(`🎉 Congratulations! You've achieved your goal: ${goal.name}!`, 'success');
                } else {
                    showToast(`Added ₹${parseFloat(amount).toLocaleString('en-IN')} to ${goal.name}`, 'success');
                }
                
                saveDataToStorage();
                loadGoalsPage();
            }
        }
        
        function deleteGoal(goalId) {
            if (confirm('Are you sure you want to delete this goal?')) {
                AppState.goals = AppState.goals.filter(g => g.id !== goalId);
                saveDataToStorage();
                loadGoalsPage();
                showToast('Goal deleted successfully', 'success');
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 7: MODAL FUNCTIONS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function openAddTransactionModal() {
            const modal = document.getElementById('addTransactionModal');
            if (modal) {
                modal.classList.add('active');
                setDefaultFormDates();
            }
        }
        
        function closeAddTransactionModal() {
            const modal = document.getElementById('addTransactionModal');
            if (modal) {
                modal.classList.remove('active');
                document.getElementById('addTransactionForm').reset();
                setDefaultFormDates();
            }
        }
        
        function openCreateGoalModal() {
            const modal = document.getElementById('createGoalModal');
            if (modal) {
                modal.classList.add('active');
            }
        }
        
        function closeCreateGoalModal() {
            const modal = document.getElementById('createGoalModal');
            if (modal) {
                modal.classList.remove('active');
                document.getElementById('createGoalForm').reset();
                // Reset icon selection
                document.querySelectorAll('.icon-option').forEach(icon => {
                    icon.classList.remove('selected');
                });
                document.querySelector('.icon-option').classList.add('selected');
            }
        }
        
        function updateTransactionType(radio) {
            document.querySelectorAll('.form-radio').forEach(label => {
                label.classList.remove('active');
            });
            radio.parentElement.classList.add('active');
        }
        
        function selectGoalIcon(element) {
            document.querySelectorAll('.icon-option').forEach(icon => {
                icon.classList.remove('selected');
            });
            element.classList.add('selected');
            document.getElementById('selectedGoalIcon').value = element.getAttribute('data-icon');
        }
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 8: FORM HANDLERS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function handleAddTransaction(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            
            // Get icon based on category
            const categoryIcons = {
                'Freelance Work': '💼',
                'Salary': '💰',
                'Part-time Job': '👔',
                'Investment Returns': '📈',
                'Other Income': '💵',
                'Food & Dining': '🍕',
                'Transportation': '🚖',
                'Shopping': '🛒',
                'Bills & Utilities': '📱',
                'Entertainment': '🎬',
                'Health & Fitness': '🏋️',
                'Education': '📚',
                'Other Expense': '💳'
            };
            
            const category = formData.get('category');
            const icon = categoryIcons[category] || '💰';
            
            const newTransaction = {
                id: Date.now(),
                type: formData.get('transactionType'),
                category: category,
                description: formData.get('description'),
                amount: parseFloat(formData.get('amount')),
                date: formData.get('date'),
                notes: formData.get('notes') || '',
                icon: icon
            };
            
            // Add to transactions array
            AppState.transactions.unshift(newTransaction);
            
            // Save to localStorage
            saveDataToStorage();
            
            // Close modal
            closeAddTransactionModal();
            
            // Reload transactions page if active
            if (AppState.currentTab === 'transactions') {
                loadTransactionsPage();
            }
            
            // Show success message
            showToast(`Transaction added: ${newTransaction.description}`, 'success');
            
            console.log('✅ Transaction added:', newTransaction);
        }
        
        function handleCreateGoal(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            
            const newGoal = {
                id: Date.now(),
                icon: formData.get('icon'),
                name: formData.get('goalName'),
                targetAmount: parseFloat(formData.get('targetAmount')),
                currentAmount: parseFloat(formData.get('currentAmount')) || 0,
                targetDate: formData.get('targetDate'),
                monthlyContribution: parseFloat(formData.get('monthlyContribution')) || 0,
                description: formData.get('description') || '',
                status: 'active',
                createdAt: new Date().toISOString()
            };
            
            // Add to goals array
            AppState.goals.push(newGoal);
            
            // Save to localStorage
            saveDataToStorage();
            
            // Close modal
            closeCreateGoalModal();
            
            // Reload goals page if active
            if (AppState.currentTab === 'goals') {
                loadGoalsPage();
            }
            
            // Show success message
            showToast(`Goal created: ${newGoal.name}`, 'success');
            
            console.log('✅ Goal created:', newGoal);
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 9: SIDEBAR & NAVIGATION FUNCTIONS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');
            
            if (window.innerWidth <= 1024) {
                AppState.sidebarOpen = !AppState.sidebarOpen;
                
                if (AppState.sidebarOpen) {
                    sidebar.classList.add('mobile-open');
                    overlay.classList.add('active');
                } else {
                    sidebar.classList.remove('mobile-open');
                    overlay.classList.remove('active');
                }
            }
        }
        
        function closeSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');
            
            sidebar.classList.remove('mobile-open');
            overlay.classList.remove('active');
            AppState.sidebarOpen = false;
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 10: THEME TOGGLE
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function toggleTheme() {
            AppState.theme = AppState.theme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', AppState.theme);
            localStorage.setItem('theme', AppState.theme);
            
            // Reinitialize charts with new theme colors
            setTimeout(() => {
                destroyCharts();
                initializeCharts();
            }, 100);
            
            console.log(`🎨 Theme switched to: ${AppState.theme}`);
            showToast(`Theme changed to ${AppState.theme} mode`, 'info');
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 11: PROFILE DROPDOWN
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function toggleProfileDropdown() {
            const dropdown = document.getElementById('profileDropdown');
            if (!dropdown) return;
            
            AppState.profileDropdownOpen = !AppState.profileDropdownOpen;
            
            if (AppState.profileDropdownOpen) {
                dropdown.classList.add('open');
            } else {
                dropdown.classList.remove('open');
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 12: SEARCH FUNCTIONALITY
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function handleSearch(event) {
            const query = event.target.value.toLowerCase().trim();
            
            if (query.length === 0) return;
            
            console.log('🔍 Searching for:', query);
            
            // Search in transactions
            const matchingTransactions = AppState.transactions.filter(t => 
                t.description.toLowerCase().includes(query) ||
                t.category.toLowerCase().includes(query)
            );
            
            if (matchingTransactions.length > 0) {
                switchTab('transactions');
                // Could implement highlighting here
            }
            
            // Search in goals
            const matchingGoals = AppState.goals.filter(g => 
                g.name.toLowerCase().includes(query) ||
                (g.description && g.description.toLowerCase().includes(query))
            );
            
            if (matchingGoals.length > 0 && matchingTransactions.length === 0) {
                switchTab('goals');
            }
        }
        
        function clearSearch() {
            const searchInput = document.getElementById('globalSearch');
            if (searchInput) {
                searchInput.value = '';
                searchInput.focus();
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 13: AI CHATBOT FUNCTIONS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            const chatbotToggle = document.getElementById('chatbotToggle');
            
            if (!chatbotWindow || !chatbotToggle) return;
            
            AppState.chatbotOpen = !AppState.chatbotOpen;
            
            if (AppState.chatbotOpen) {
                chatbotWindow.classList.add('active');
                chatbotToggle.classList.add('hidden');
                
                // Focus on input
                setTimeout(() => {
                    const chatInput = document.getElementById('chatInput');
                    if (chatInput) chatInput.focus();
                }, 300);
            } else {
                chatbotWindow.classList.remove('active');
                chatbotWindow.classList.remove('minimized');
                chatbotWindow.classList.remove('maximized');
                chatbotToggle.classList.remove('hidden');
                AppState.chatbotMinimized = false;
                AppState.chatbotMaximized = false;
            }
        }
        
        function closeChatbot() {
            toggleChatbot();
        }
        
        function minimizeChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            if (!chatbotWindow) return;
            
            AppState.chatbotMinimized = !AppState.chatbotMinimized;
            
            if (AppState.chatbotMinimized) {
                chatbotWindow.classList.add('minimized');
            } else {
                chatbotWindow.classList.remove('minimized');
            }
        }
        
        function toggleMaximizeChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            const maximizeBtn = document.getElementById('maximizeBtn');
            if (!chatbotWindow || !maximizeBtn) return;
            
            AppState.chatbotMaximized = !AppState.chatbotMaximized;
            
            if (AppState.chatbotMaximized) {
                chatbotWindow.classList.add('maximized');
                chatbotWindow.classList.remove('minimized');
                maximizeBtn.innerHTML = '<span class="material-symbols-rounded">close_fullscreen</span>';
                AppState.chatbotMinimized = false;
            } else {
                chatbotWindow.classList.remove('maximized');
                maximizeBtn.innerHTML = '<span class="material-symbols-rounded">open_in_full</span>';
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 14: CHAT MESSAGE FUNCTIONS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function sendMessage() {
            const chatInput = document.getElementById('chatInput');
            const chatBody = document.getElementById('chatbotBody');
            
            if (!chatInput || !chatBody) return;
            
            const message = chatInput.value.trim();
            if (message === '') return;
            
            // Add user message
            addChatMessage('user', message);
            
            // Clear input
            chatInput.value = '';
            autoResizeChatInput();
            
            // Show typing indicator
            showTypingIndicator();
            
            // Simulate AI response after 1.5 seconds
            setTimeout(() => {
                hideTypingIndicator();
                const aiResponse = getAIResponse(message);
                addChatMessage('bot', aiResponse);
            }, 1500);
        }
        
        function sendSuggestion(suggestion) {
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.value = suggestion;
                sendMessage();
            }
        }
        
        function addChatMessage(sender, message) {
            const chatBody = document.getElementById('chatbotBody');
            if (!chatBody) return;
            
            const currentTime = new Date().toLocaleTimeString('en-IN', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            
            const messageHTML = `
                <div class="chat-message ${sender}">
                    <div class="chat-avatar-msg">${sender === 'bot' ? '🤖' : 'A'}</div>
                    <div class="chat-content">
                        <div class="chat-bubble">${message}</div>
                        <div class="chat-time">${currentTime}</div>
                    </div>
                </div>
            `;
            
            chatBody.insertAdjacentHTML('beforeend', messageHTML);
            chatBody.scrollTop = chatBody.scrollHeight;
            
            // Store message
            AppState.chatMessages.push({ sender, message, time: currentTime });
        }
        
        function showTypingIndicator() {
            const chatBody = document.getElementById('chatbotBody');
            if (!chatBody) return;
            
            const typingHTML = `
                <div class="chat-message bot" id="typingIndicator">
                    <div class="chat-avatar-msg">🤖</div>
                    <div class="chat-content">
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;
            
            chatBody.insertAdjacentHTML('beforeend', typingHTML);
            chatBody.scrollTop = chatBody.scrollHeight;
        }
        
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        function getAIResponse(userMessage) {
            const message = userMessage.toLowerCase();
            
            // Calculate user stats for personalized responses
            const totalIncome = AppState.transactions
                .filter(t => t.type === 'income')
                .reduce((sum, t) => sum + t.amount, 0);
            
            const totalExpenses = AppState.transactions
                .filter(t => t.type === 'expense')
                .reduce((sum, t) => sum + t.amount, 0);
            
            const savingsRate = totalIncome > 0 ? ((totalIncome - totalExpenses) / totalIncome * 100).toFixed(0) : 0;
            
            // Simple keyword-based responses
            if (message.includes('save') || message.includes('savings')) {
                return `Great question! Based on your current ${savingsRate}% savings rate, you're doing excellent! 🎉\n\nTo save even more, I'd recommend:\n\n1. Set up automatic transfers on payday\n2. Use the 50/30/20 budgeting rule\n3. Track your subscriptions - you might have unused ones\n4. Cook at home more often\n\nWould you like me to create a personalized savings plan?`;
            } else if (message.includes('budget')) {
                return `I can help you with budgeting! 📊 Your current spending is ₹${totalExpenses.toLocaleString('en-IN')} per month.\n\nI recommend trying the 50/30/20 rule:\n\n• 50% for needs (₹${(totalIncome * 0.5).toFixed(0).toLocaleString('en-IN')})\n• 30% for wants (₹${(totalIncome * 0.3).toFixed(0).toLocaleString('en-IN')})\n• 20% for savings (₹${(totalIncome * 0.2).toFixed(0).toLocaleString('en-IN')})\n\nCheck out the Budget Planner tool for more details!`;
            } else if (message.includes('spend') || message.includes('expense')) {
                const foodExpenses = AppState.transactions
                    .filter(t => t.type === 'expense' && t.category === 'Food & Dining')
                    .reduce((sum, t) => sum + t.amount, 0);
                
                return `Let me analyze your spending! 💸\n\nYour total expenses: ₹${totalExpenses.toLocaleString('en-IN')}\n\nTop spending category: Food & Dining (₹${foodExpenses.toLocaleString('en-IN')})\n\nTip: Your food expenses could be reduced by meal prepping. This could save you ₹2,500 monthly!\n\nWould you like tips to reduce specific expenses?`;
            } else if (message.includes('invest')) {
                return `Investment advice! 📈 Based on your financial health score of 847/1000, you're in a good position to invest.\n\nConsider:\n\n1. Start a SIP in mutual funds (₹3,000/month)\n2. Build emergency fund (3-6 months expenses)\n3. Explore tax-saving investments (80C)\n4. Diversify with index funds\n\nVisit the Investment Hub for detailed portfolio tracking!`;
            } else if (message.includes('tax')) {
                return `Tax planning! 🧾 For FY 2025-26, with your income of ₹${totalIncome.toLocaleString('en-IN')}, you can save taxes by:\n\n1. Section 80C - Invest up to ₹1.5L (PPF, ELSS)\n2. Section 80D - Health insurance (₹25K)\n3. NPS contributions (₹50K additional)\n4. Home loan interest (₹2L)\n\nUse our Tax Calculator for accurate calculations!`;
            } else if (message.includes('goal')) {
                return `Let's talk goals! 🎯 I see you're working towards ${AppState.goals.length} financial goals.\n\nSome recommended goals:\n\n1. Emergency Fund - 6 months expenses\n2. Vacation Fund - ₹50,000\n3. House Down Payment\n4. Retirement Planning\n\nVisit the Goals page to set up and track your progress!`;
            } else if (message.includes('hello') || message.includes('hi')) {
                return `Hello Aryan! 👋 How can I help you today?\n\nI can assist you with:\n• Budget planning & recommendations\n• Spending analysis & insights\n• Savings strategies\n• Investment advice\n• Tax planning tips\n• Goal setting & tracking\n\nWhat would you like to explore?`;
            } else {
                return `Thanks for reaching out! 😊 I can help you with:\n\n• Budgeting & expense tracking\n• Savings strategies\n• Investment recommendations\n• Tax planning\n• Financial goal setting\n\nYour current stats:\n💰 Income: ₹${totalIncome.toLocaleString('en-IN')}\n💸 Expenses: ₹${totalExpenses.toLocaleString('en-IN')}\n📈 Savings Rate: ${savingsRate}%\n\nWhat specific area would you like to explore?`;
            }
        }
        
        function handleChatEnter(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }
        
        function autoResizeChatInput() {
            const chatInput = document.getElementById('chatInput');
            if (!chatInput) return;
            
            chatInput.style.height = 'auto';
            chatInput.style.height = Math.min(chatInput.scrollHeight, 120) + 'px';
        }
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 15: KEYBOARD SHORTCUTS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function handleKeyboardShortcuts(e) {
            // Ctrl/Cmd + K: Focus search
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                const searchInput = document.getElementById('globalSearch');
                if (searchInput) {
                    searchInput.focus();
                    searchInput.select();
                }
            }
            
            // Ctrl/Cmd + B: Toggle sidebar
            if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
                e.preventDefault();
                toggleSidebar();
            }
            
            // Ctrl/Cmd + T: Toggle theme
            if ((e.ctrlKey || e.metaKey) && e.key === 't') {
                e.preventDefault();
                toggleTheme();
            }
            
            // Ctrl/Cmd + /: Open chatbot
            if ((e.ctrlKey || e.metaKey) && e.key === '/') {
                e.preventDefault();
                if (!AppState.chatbotOpen) {
                    toggleChatbot();
                }
            }
            
            // Escape: Close modals/dropdowns
            if (e.key === 'Escape') {
                if (AppState.profileDropdownOpen) {
                    toggleProfileDropdown();
                }
                if (AppState.chatbotOpen && !AppState.chatbotMaximized) {
                    closeChatbot();
                }
                if (AppState.sidebarOpen && window.innerWidth <= 1024) {
                    closeSidebar();
                }
                // Close modals
                const modals = document.querySelectorAll('.modal-overlay.active');
                modals.forEach(modal => {
                    modal.classList.remove('active');
                });
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 16: UTILITY FUNCTIONS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                console.log('👋 Logging out...');
                localStorage.clear();
                showToast('Logout successful! Redirecting...', 'success');
                setTimeout(() => {
                    alert('In production: Redirect to login page');
                }, 1000);
            }
        }
        
        function showToast(message, type = 'info') {
            const colors = {
                success: '#34A853',
                error: '#EA4335',
                warning: '#FBBC04',
                info: '#4285F4'
            };
            
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 30px;
                right: 30px;
                background: ${colors[type]};
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                font-weight: 600;
                font-size: 14px;
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                animation: slideInRight 0.3s ease;
                max-width: 350px;
            `;
            
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 17: CHART HELPER FUNCTIONS
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function getChartColors() {
            const theme = AppState.theme;
            return {
                primary: '#FF6B6B',
                secondary: '#4ECDC4',
                accent: '#A855F7',
                success: '#34A853',
                warning: '#FBBC04',
                error: '#EA4335',
                info: '#4285F4',
                text: theme === 'dark' ? '#ffffff' : '#0f172a',
                textSecondary: theme === 'dark' ? '#e5e5e5' : '#334155',
                textMuted: theme === 'dark' ? '#6b7280' : '#94a3b8',
                grid: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(15, 23, 42, 0.1)',
                background: theme === 'dark' ? '#1a1a1a' : '#ffffff'
            };
        }
        
        function getDefaultChartOptions() {
            const colors = getChartColors();
            return {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: colors.text,
                            font: {
                                family: "'Inter', sans-serif",
                                size: 12,
                                weight: 600
                            },
                            padding: 16,
                            usePointStyle: true
                        }
                    },
                    tooltip: {
                        backgroundColor: colors.background,
                        titleColor: colors.text,
                        bodyColor: colors.textSecondary,
                        borderColor: colors.grid,
                        borderWidth: 1,
                        padding: 12,
                        displayColors: true,
                        titleFont: {
                            family: "'Space Grotesk', sans-serif",
                            size: 14,
                            weight: 700
                        },
                        bodyFont: {
                            family: "'Inter', sans-serif",
                            size: 13,
                            weight: 500
                        }
                    }
                }
            };
        }
        
        function destroyCharts() {
            Object.values(AppState.charts).forEach(chart => {
                if (chart && typeof chart.destroy === 'function') {
                    chart.destroy();
                }
            });
            AppState.charts = {};
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 18: CHART INITIALIZATION - MAIN FUNCTION
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function initializeCharts() {
            console.log('%c📊 Initializing all charts...', 'color: #4285F4; font-weight: bold;');
            
            // Destroy existing charts first
            destroyCharts();
            
            const colors = getChartColors();
            
            // Initialize all charts
            initIncomeExpenseChart(colors);
            initExpenseBreakdownChart(colors);
            initSavingsTrendChart(colors);
            initCategorySpendingChart(colors);
            initIncomeSourcesChart(colors);
            
            console.log('%c✅ All charts initialized!', 'color: #34A853; font-weight: bold;');
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 19: CHART 1 - INCOME VS EXPENSES (LINE CHART)
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function initIncomeExpenseChart(colors) {
            const canvas = document.getElementById('incomeExpenseChart');
            if (!canvas) {
                console.warn('⚠️ Income vs Expense chart canvas not found');
                return;
            }
            
            const ctx = canvas.getContext('2d');
            
            // Create gradient backgrounds
            const incomeGradient = ctx.createLinearGradient(0, 0, 0, 300);
            incomeGradient.addColorStop(0, 'rgba(52, 168, 83, 0.4)');
            incomeGradient.addColorStop(1, 'rgba(52, 168, 83, 0.0)');
            
            const expenseGradient = ctx.createLinearGradient(0, 0, 0, 300);
            expenseGradient.addColorStop(0, 'rgba(234, 67, 53, 0.4)');
            expenseGradient.addColorStop(1, 'rgba(234, 67, 53, 0.0)');
            
            AppState.charts.incomeExpense = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                    datasets: [
                        {
                            label: 'Income',
                            data: [28000, 30500, 29200, 31500, 34200, 32450],
                            borderColor: colors.success,
                            backgroundColor: incomeGradient,
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            pointRadius: 6,
                            pointHoverRadius: 8,
                            pointBackgroundColor: colors.success,
                            pointBorderColor: colors.background,
                            pointBorderWidth: 3,
                            pointHoverBackgroundColor: colors.success,
                            pointHoverBorderColor: colors.background,
                            pointHoverBorderWidth: 3
                        },
                        {
                            label: 'Expenses',
                            data: [19500, 20200, 19000, 21800, 19900, 18720],
                            borderColor: colors.error,
                            backgroundColor: expenseGradient,
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            pointRadius: 6,
                            pointHoverRadius: 8,
                            pointBackgroundColor: colors.error,
                            pointBorderColor: colors.background,
                            pointBorderWidth: 3,
                            pointHoverBackgroundColor: colors.error,
                            pointHoverBorderColor: colors.background,
                            pointHoverBorderWidth: 3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            align: 'end',
                            labels: {
                                color: colors.text,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 13,
                                    weight: 600
                                },
                                padding: 16,
                                usePointStyle: true,
                                pointStyle: 'circle'
                            }
                        },
                        tooltip: {
                            backgroundColor: colors.background,
                            titleColor: colors.text,
                            bodyColor: colors.textSecondary,
                            borderColor: colors.grid,
                            borderWidth: 1,
                            padding: 14,
                            displayColors: true,
                            titleFont: {
                                family: "'Space Grotesk', sans-serif",
                                size: 14,
                                weight: 700
                            },
                            bodyFont: {
                                family: "'Inter', sans-serif",
                                size: 13,
                                weight: 500
                            },
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    label += '₹' + context.parsed.y.toLocaleString('en-IN');
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false,
                                drawBorder: false
                            },
                            ticks: {
                                color: colors.textMuted,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 12,
                                    weight: 600
                                },
                                padding: 8
                            }
                        },
                        y: {
                            grid: {
                                color: colors.grid,
                                drawBorder: false
                            },
                            ticks: {
                                color: colors.textMuted,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 12,
                                    weight: 500
                                },
                                padding: 8,
                                callback: function(value) {
                                    return '₹' + (value / 1000) + 'K';
                                }
                            }
                        }
                    }
                }
            });
            
            console.log('✓ Income vs Expenses chart loaded');
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 20: CHART 2 - EXPENSE BREAKDOWN (PIE CHART)
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function initExpenseBreakdownChart(colors) {
            const canvas = document.getElementById('expenseBreakdownChart');
            if (!canvas) {
                console.warn('⚠️ Expense breakdown chart canvas not found');
                return;
            }
            
            const ctx = canvas.getContext('2d');
            
            // Beautiful color palette for pie chart
            const pieColors = [
                '#FF6B6B', // Red
                '#4ECDC4', // Teal
                '#FBBC04', // Yellow
                '#A855F7', // Purple
                '#4285F4', // Blue
                '#34A853'  // Green
            ];
            
            AppState.charts.expenseBreakdown = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [
                        'Food & Dining',
                        'Bills & Utilities',
                        'Transportation',
                        'Shopping',
                        'Entertainment',
                        'Others'
                    ],
                    datasets: [{
                        data: [6240, 4800, 3520, 2180, 1280, 700],
                        backgroundColor: pieColors,
                        borderColor: colors.background,
                        borderWidth: 4,
                        hoverOffset: 15,
                        hoverBorderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'bottom',
                            labels: {
                                color: colors.text,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 12,
                                    weight: 600
                                },
                                padding: 12,
                                usePointStyle: true,
                                pointStyle: 'circle',
                                boxWidth: 8,
                                boxHeight: 8
                            }
                        },
                        tooltip: {
                            backgroundColor: colors.background,
                            titleColor: colors.text,
                            bodyColor: colors.textSecondary,
                            borderColor: colors.grid,
                            borderWidth: 1,
                            padding: 14,
                            displayColors: true,
                            titleFont: {
                                family: "'Space Grotesk', sans-serif",
                                size: 14,
                                weight: 700
                            },
                            bodyFont: {
                                family: "'Inter', sans-serif",
                                size: 13,
                                weight: 500
                            },
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed || 0;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((value / total) * 100).toFixed(1);
                                    return `${label}: ₹${value.toLocaleString('en-IN')} (${percentage}%)`;
                                }
                            }
                        }
                    },
                    cutout: '70%',
                    animation: {
                        animateRotate: true,
                        animateScale: true
                    }
                }
            });
            
            console.log('✓ Expense breakdown chart loaded');
        }
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 21: CHART 3 - SAVINGS TREND (BAR/COLUMN CHART)
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function initSavingsTrendChart(colors) {
            const canvas = document.getElementById('savingsTrendChart');
            if (!canvas) {
                console.warn('⚠️ Savings trend chart canvas not found');
                return;
            }
            
            const ctx = canvas.getContext('2d');
            
            // Create gradient for bars
            const savingsGradient = ctx.createLinearGradient(0, 0, 0, 300);
            savingsGradient.addColorStop(0, colors.primary);
            savingsGradient.addColorStop(1, colors.secondary);
            
            AppState.charts.savingsTrend = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                    datasets: [{
                        label: 'Monthly Savings',
                        data: [8500, 10300, 10200, 9700, 14300, 13730],
                        backgroundColor: savingsGradient,
                        borderRadius: 10,
                        borderSkipped: false,
                        barThickness: 60,
                        maxBarThickness: 80
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            align: 'end',
                            labels: {
                                color: colors.text,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 13,
                                    weight: 600
                                },
                                padding: 16,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            backgroundColor: colors.background,
                            titleColor: colors.text,
                            bodyColor: colors.textSecondary,
                            borderColor: colors.grid,
                            borderWidth: 1,
                            padding: 14,
                            displayColors: true,
                            titleFont: {
                                family: "'Space Grotesk', sans-serif",
                                size: 14,
                                weight: 700
                            },
                            bodyFont: {
                                family: "'Inter', sans-serif",
                                size: 13,
                                weight: 500
                            },
                            callbacks: {
                                label: function(context) {
                                    return 'Savings: ₹' + context.parsed.y.toLocaleString('en-IN');
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false,
                                drawBorder: false
                            },
                            ticks: {
                                color: colors.textMuted,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 12,
                                    weight: 600
                                },
                                padding: 8
                            }
                        },
                        y: {
                            grid: {
                                color: colors.grid,
                                drawBorder: false
                            },
                            ticks: {
                                color: colors.textMuted,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 12,
                                    weight: 500
                                },
                                padding: 8,
                                callback: function(value) {
                                    return '₹' + (value / 1000) + 'K';
                                }
                            }
                        }
                    }
                }
            });
            
            console.log('✓ Savings trend chart loaded');
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 22: CHART 4 - CATEGORY SPENDING (HORIZONTAL BAR CHART)
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function initCategorySpendingChart(colors) {
            const canvas = document.getElementById('categorySpendingChart');
            if (!canvas) {
                console.warn('⚠️ Category spending chart canvas not found');
                return;
            }
            
            const ctx = canvas.getContext('2d');
            
            // Different colors for each category
            const categoryColors = [
                '#FF6B6B', // Food
                '#4ECDC4', // Bills
                '#FBBC04', // Transport
                '#A855F7', // Shopping
                '#4285F4', // Entertainment
                '#34A853'  // Health
            ];
            
            AppState.charts.categorySpending = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: [
                        'Food & Dining',
                        'Bills & Utilities',
                        'Transportation',
                        'Shopping',
                        'Entertainment',
                        'Health & Fitness'
                    ],
                    datasets: [{
                        label: 'Amount Spent',
                        data: [6240, 4800, 3520, 2180, 1280, 1700],
                        backgroundColor: categoryColors,
                        borderRadius: 8,
                        borderSkipped: false,
                        barThickness: 50
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: colors.background,
                            titleColor: colors.text,
                            bodyColor: colors.textSecondary,
                            borderColor: colors.grid,
                            borderWidth: 1,
                            padding: 14,
                            titleFont: {
                                family: "'Space Grotesk', sans-serif",
                                size: 14,
                                weight: 700
                            },
                            bodyFont: {
                                family: "'Inter', sans-serif",
                                size: 13,
                                weight: 500
                            },
                            callbacks: {
                                label: function(context) {
                                    const total = 18720; // Total expenses
                                    const percentage = ((context.parsed.x / total) * 100).toFixed(1);
                                    return `₹${context.parsed.x.toLocaleString('en-IN')} (${percentage}%)`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: colors.grid,
                                drawBorder: false
                            },
                            ticks: {
                                color: colors.textMuted,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 11,
                                    weight: 500
                                },
                                callback: function(value) {
                                    return '₹' + (value / 1000) + 'K';
                                }
                            }
                        },
                        y: {
                            grid: {
                                display: false,
                                drawBorder: false
                            },
                            ticks: {
                                color: colors.textMuted,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 12,
                                    weight: 600
                                },
                                padding: 10
                            }
                        }
                    }
                }
            });
            
            console.log('✓ Category spending chart loaded');
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 23: CHART 5 - INCOME SOURCES (DOUGHNUT CHART)
           ═══════════════════════════════════════════════════════════════════════════ */
        
        function initIncomeSourcesChart(colors) {
            const canvas = document.getElementById('incomeSourcesChart');
            if (!canvas) {
                console.warn('⚠️ Income sources chart canvas not found');
                return;
            }
            
            const ctx = canvas.getContext('2d');
            
            // Income source colors
            const sourceColors = [
                '#FF6B6B', // Freelance
                '#4ECDC4', // Part-time
                '#FBBC04', // Passive
                '#A855F7'  // Other
            ];
            
            AppState.charts.incomeSources = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [
                        'Freelance Work',
                        'Part-time Job',
                        'Passive Income',
                        'Other Income'
                    ],
                    datasets: [{
                        data: [22500, 9500, 450, 0],
                        backgroundColor: sourceColors,
                        borderColor: colors.background,
                        borderWidth: 4,
                        hoverOffset: 15,
                        hoverBorderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'bottom',
                            labels: {
                                color: colors.text,
                                font: {
                                    family: "'Inter', sans-serif",
                                    size: 12,
                                    weight: 600
                                },
                                padding: 12,
                                usePointStyle: true,
                                pointStyle: 'circle',
                                boxWidth: 8,
                                boxHeight: 8
                            }
                        },
                        tooltip: {
                            backgroundColor: colors.background,
                            titleColor: colors.text,
                            bodyColor: colors.textSecondary,
                            borderColor: colors.grid,
                            borderWidth: 1,
                            padding: 14,
                            displayColors: true,
                            titleFont: {
                                family: "'Space Grotesk', sans-serif",
                                size: 14,
                                weight: 700
                            },
                            bodyFont: {
                                family: "'Inter', sans-serif",
                                size: 13,
                                weight: 500
                            },
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed || 0;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = total > 0 ? ((value / total) * 100).toFixed(1) : 0;
                                    return `${label}: ₹${value.toLocaleString('en-IN')} (${percentage}%)`;
                                }
                            }
                        }
                    },
                    cutout: '65%',
                    animation: {
                        animateRotate: true,
                        animateScale: true
                    }
                }
            });
            
            console.log('✓ Income sources chart loaded');
        }
        
        /* ═══════════════════════════════════════════════════════════════════════════
           PART 24: APP INITIALIZATION & STARTUP
           ═══════════════════════════════════════════════════════════════════════════ */
        
        // Initialize app when DOM is ready
        document.addEventListener('DOMContentLoaded', initializeApp);
        
        // Console greeting & keyboard shortcuts info
        console.log('%c╔═══════════════════════════════════════════╗', 'color: #FF6B6B; font-weight: bold;');
        console.log('%c║    💰 FinSavvy AI Dashboard v2.0         ║', 'color: #FF6B6B; font-weight: bold;');
        console.log('%c║    Built for Smart India Hackathon 2025  ║', 'color: #4ECDC4; font-weight: bold;');
        console.log('%c╚═══════════════════════════════════════════╝', 'color: #FF6B6B; font-weight: bold;');
        console.log('%c⌨️  Keyboard Shortcuts:', 'color: #A855F7; font-weight: bold;');
        console.log('  • Ctrl+K: Search');
        console.log('  • Ctrl+B: Toggle Sidebar');
        console.log('  • Ctrl+T: Toggle Theme');
        console.log('  • Ctrl+/: Open AI Chat');
        console.log('  • Esc: Close Modals');
        console.log('%c📊 Features:', 'color: #4285F4; font-weight: bold;');
        console.log('  • Tab Navigation (Dashboard, Transactions, Goals, Insights)');
        console.log('  • Working CRUD Operations (Add/Delete Transactions & Goals)');
        console.log('  • 5 Interactive Charts (Chart.js)');
        console.log('  • AI Chatbot with Smart Responses');
        console.log('  • Dark/Light Theme Toggle');
        console.log('  • localStorage Persistence');
        console.log('  • Fully Responsive Design');
        console.log('%c🚀 All systems ready!', 'color: #34A853; font-size: 14px; font-weight: bold;');
        
    </script>
</body>
</html>
